(function(){var ke='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg>',ye='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" fill="rgb(63, 185, 80)" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>';document.addEventListener("nav",()=>{let be=document.getElementsByTagName("pre");for(let de=0;de<be.length;de++){let pe=be[de].getElementsByTagName("code")[0];if(pe){let oe=function(){navigator.clipboard.writeText(Ve).then(()=>{xe.blur(),xe.innerHTML=ye,setTimeout(()=>{xe.innerHTML=ke,xe.style.borderColor=""},2e3)},Ue=>console.error(Ue))};var ce=oe;let Ve=(pe.dataset.clipboard?JSON.parse(pe.dataset.clipboard):pe.innerText).replace(/\n\n/g,`
`),xe=document.createElement("button");xe.className="clipboard-button",xe.type="button",xe.innerHTML=ke,xe.ariaLabel="Copy source",xe.addEventListener("click",oe),window.addCleanup(()=>xe.removeEventListener("click",oe)),be[de].prepend(xe)}}})})(),(function(){var ke=Object.create,ye=Object.defineProperty,be=Object.getOwnPropertyDescriptor,ce=Object.getOwnPropertyNames,de=Object.getPrototypeOf,pe=Object.prototype.hasOwnProperty,oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ve=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ce(t))!pe.call(e,i)&&i!==r&&ye(e,i,{get:()=>t[i],enumerable:!(n=be(t,i))||n.enumerable});return e},xe=(e,t,r)=>(r=e!=null?ke(de(e)):{},Ve(t||!e||!e.__esModule?ye(r,"default",{value:e,enumerable:!0}):r,e)),Ue=oe(()=>{}),Ye=oe((e,t)=>{"use strict";t.exports=n;function r(s){return s instanceof Buffer?Buffer.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function n(s){if(s=s||{},s.circles)return i(s);let l=new Map;if(l.set(Date,f=>new Date(f)),l.set(Map,(f,y)=>new Map(a(Array.from(f),y))),l.set(Set,(f,y)=>new Set(a(Array.from(f),y))),s.constructorHandlers)for(let f of s.constructorHandlers)l.set(f[0],f[1]);let o=null;return s.proto?u:c;function a(f,y){let h=Object.keys(f),g=new Array(h.length);for(let p=0;p<h.length;p++){let d=h[p],A=f[d];typeof A!="object"||A===null?g[d]=A:A.constructor!==Object&&(o=l.get(A.constructor))?g[d]=o(A,y):ArrayBuffer.isView(A)?g[d]=r(A):g[d]=y(A)}return g}function c(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return a(f,c);if(f.constructor!==Object&&(o=l.get(f.constructor)))return o(f,c);let y={};for(let h in f){if(Object.hasOwnProperty.call(f,h)===!1)continue;let g=f[h];typeof g!="object"||g===null?y[h]=g:g.constructor!==Object&&(o=l.get(g.constructor))?y[h]=o(g,c):ArrayBuffer.isView(g)?y[h]=r(g):y[h]=c(g)}return y}function u(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return a(f,u);if(f.constructor!==Object&&(o=l.get(f.constructor)))return o(f,u);let y={};for(let h in f){let g=f[h];typeof g!="object"||g===null?y[h]=g:g.constructor!==Object&&(o=l.get(g.constructor))?y[h]=o(g,u):ArrayBuffer.isView(g)?y[h]=r(g):y[h]=u(g)}return y}}function i(s){let l=[],o=[],a=new Map;if(a.set(Date,h=>new Date(h)),a.set(Map,(h,g)=>new Map(u(Array.from(h),g))),a.set(Set,(h,g)=>new Set(u(Array.from(h),g))),s.constructorHandlers)for(let h of s.constructorHandlers)a.set(h[0],h[1]);let c=null;return s.proto?y:f;function u(h,g){let p=Object.keys(h),d=new Array(p.length);for(let A=0;A<p.length;A++){let v=p[A],T=h[v];if(typeof T!="object"||T===null)d[v]=T;else if(T.constructor!==Object&&(c=a.get(T.constructor)))d[v]=c(T,g);else if(ArrayBuffer.isView(T))d[v]=r(T);else{let W=l.indexOf(T);W!==-1?d[v]=o[W]:d[v]=g(T)}}return d}function f(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return u(h,f);if(h.constructor!==Object&&(c=a.get(h.constructor)))return c(h,f);let g={};l.push(h),o.push(g);for(let p in h){if(Object.hasOwnProperty.call(h,p)===!1)continue;let d=h[p];if(typeof d!="object"||d===null)g[p]=d;else if(d.constructor!==Object&&(c=a.get(d.constructor)))g[p]=c(d,f);else if(ArrayBuffer.isView(d))g[p]=r(d);else{let A=l.indexOf(d);A!==-1?g[p]=o[A]:g[p]=f(d)}}return l.pop(),o.pop(),g}function y(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return u(h,y);if(h.constructor!==Object&&(c=a.get(h.constructor)))return c(h,y);let g={};l.push(h),o.push(g);for(let p in h){let d=h[p];if(typeof d!="object"||d===null)g[p]=d;else if(d.constructor!==Object&&(c=a.get(d.constructor)))g[p]=c(d,y);else if(ArrayBuffer.isView(d))g[p]=r(d);else{let A=l.indexOf(d);A!==-1?g[p]=o[A]:g[p]=y(d)}}return l.pop(),o.pop(),g}}}),L;function Oe(e,t,r){let n=typeof r,i=typeof e;if(n!=="undefined"){if(i!=="undefined"){if(r){if(i==="function"&&n===i)return function(o){return e(r(o))};if(t=e.constructor,t===r.constructor){if(t===Array)return r.concat(e);if(t===Map){var s=new Map(r);for(var l of e)s.set(l[0],l[1]);return s}if(t===Set){l=new Set(r);for(s of e.values())l.add(s);return l}}}return e}return r}return i==="undefined"?t:e}function ze(e,t){return typeof e>"u"?t:e}function fe(){return Object.create(null)}function Ee(e){return typeof e=="string"}function Me(e){return typeof e=="object"}function Ke(e,t){if(Ee(t))e=e[t];else for(let r=0;e&&r<t.length;r++)e=e[t[r]];return e}var He=/[^\p{L}\p{N}]+/u,et=/(\d{3})/g,tt=/(\D)(\d{3})/g,Te=/(\d{3})(\D)/g,De=/[\u0300-\u036f]/g;function Be(e={}){if(!this||this.constructor!==Be)return new Be(...arguments);if(arguments.length)for(e=0;e<arguments.length;e++)this.assign(arguments[e]);else this.assign(e)}L=Be.prototype,L.assign=function(e){this.normalize=Oe(e.normalize,!0,this.normalize);let t=e.include,r=t||e.exclude||e.split,n;if(r||r===""){if(typeof r=="object"&&r.constructor!==RegExp){let i="";n=!t,t||(i+="\\p{Z}"),r.letter&&(i+="\\p{L}"),r.number&&(i+="\\p{N}",n=!!t),r.symbol&&(i+="\\p{S}"),r.punctuation&&(i+="\\p{P}"),r.control&&(i+="\\p{C}"),(r=r.char)&&(i+=typeof r=="object"?r.join(""):r);try{this.split=new RegExp("["+(t?"^":"")+i+"]+","u")}catch{this.split=/\s+/}}else this.split=r,n=r===!1||"a1a".split(r).length<2;this.numeric=Oe(e.numeric,n)}else{try{this.split=Oe(this.split,He)}catch{this.split=/\s+/}this.numeric=Oe(e.numeric,Oe(this.numeric,!0))}if(this.prepare=Oe(e.prepare,null,this.prepare),this.finalize=Oe(e.finalize,null,this.finalize),r=e.filter,this.filter=typeof r=="function"?r:Oe(r&&new Set(r),null,this.filter),this.dedupe=Oe(e.dedupe,!0,this.dedupe),this.matcher=Oe((r=e.matcher)&&new Map(r),null,this.matcher),this.mapper=Oe((r=e.mapper)&&new Map(r),null,this.mapper),this.stemmer=Oe((r=e.stemmer)&&new Map(r),null,this.stemmer),this.replacer=Oe(e.replacer,null,this.replacer),this.minlength=Oe(e.minlength,1,this.minlength),this.maxlength=Oe(e.maxlength,1024,this.maxlength),this.rtl=Oe(e.rtl,!1,this.rtl),(this.cache=r=Oe(e.cache,!0,this.cache))&&(this.F=null,this.L=typeof r=="number"?r:2e5,this.B=new Map,this.D=new Map,this.I=this.H=128),this.h="",this.J=null,this.A="",this.K=null,this.matcher)for(let i of this.matcher.keys())this.h+=(this.h?"|":"")+i;if(this.stemmer)for(let i of this.stemmer.keys())this.A+=(this.A?"|":"")+i;return this},L.addStemmer=function(e,t){return this.stemmer||(this.stemmer=new Map),this.stemmer.set(e,t),this.A+=(this.A?"|":"")+e,this.K=null,this.cache&&Ie(this),this},L.addFilter=function(e){return typeof e=="function"?this.filter=e:(this.filter||(this.filter=new Set),this.filter.add(e)),this.cache&&Ie(this),this},L.addMapper=function(e,t){return typeof e=="object"?this.addReplacer(e,t):e.length>1?this.addMatcher(e,t):(this.mapper||(this.mapper=new Map),this.mapper.set(e,t),this.cache&&Ie(this),this)},L.addMatcher=function(e,t){return typeof e=="object"?this.addReplacer(e,t):e.length<2&&(this.dedupe||this.mapper)?this.addMapper(e,t):(this.matcher||(this.matcher=new Map),this.matcher.set(e,t),this.h+=(this.h?"|":"")+e,this.J=null,this.cache&&Ie(this),this)},L.addReplacer=function(e,t){return typeof e=="string"?this.addMatcher(e,t):(this.replacer||(this.replacer=[]),this.replacer.push(e,t),this.cache&&Ie(this),this)},L.encode=function(e,t){if(this.cache&&e.length<=this.H)if(this.F){if(this.B.has(e))return this.B.get(e)}else this.F=setTimeout(Ie,50,this);this.normalize&&(typeof this.normalize=="function"?e=this.normalize(e):e=De?e.normalize("NFKD").replace(De,"").toLowerCase():e.toLowerCase()),this.prepare&&(e=this.prepare(e)),this.numeric&&e.length>3&&(e=e.replace(tt,"$1 $2").replace(Te,"$1 $2").replace(et,"$1 "));let r=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer),n=[],i=fe(),s,l,o=this.split||this.split===""?e.split(this.split):[e];for(let c=0,u,f;c<o.length;c++)if((u=f=o[c])&&!(u.length<this.minlength||u.length>this.maxlength)){if(t){if(i[u])continue;i[u]=1}else{if(s===u)continue;s=u}if(r)n.push(u);else if(!this.filter||(typeof this.filter=="function"?this.filter(u):!this.filter.has(u))){if(this.cache&&u.length<=this.I)if(this.F){var a=this.D.get(u);if(a||a===""){a&&n.push(a);continue}}else this.F=setTimeout(Ie,50,this);if(this.stemmer){this.K||(this.K=new RegExp("(?!^)("+this.A+")$"));let y;for(;y!==u&&u.length>2;)y=u,u=u.replace(this.K,h=>this.stemmer.get(h))}if(u&&(this.mapper||this.dedupe&&u.length>1)){a="";for(let y=0,h="",g,p;y<u.length;y++)g=u.charAt(y),g===h&&this.dedupe||((p=this.mapper&&this.mapper.get(g))||p===""?p===h&&this.dedupe||!(h=p)||(a+=p):a+=h=g);u=a}if(this.matcher&&u.length>1&&(this.J||(this.J=new RegExp("("+this.h+")","g")),u=u.replace(this.J,y=>this.matcher.get(y))),u&&this.replacer)for(a=0;u&&a<this.replacer.length;a+=2)u=u.replace(this.replacer[a],this.replacer[a+1]);if(this.cache&&f.length<=this.I&&(this.D.set(f,u),this.D.size>this.L&&(this.D.clear(),this.I=this.I/1.1|0)),u){if(u!==f)if(t){if(i[u])continue;i[u]=1}else{if(l===u)continue;l=u}n.push(u)}}}return this.finalize&&(n=this.finalize(n)||n),this.cache&&e.length<=this.H&&(this.B.set(e,n),this.B.size>this.L&&(this.B.clear(),this.H=this.H/1.1|0)),n};function Ie(e){e.F=null,e.B.clear(),e.D.clear()}function Ze(e,t,r){r||(t||typeof e!="object"?typeof t=="object"&&(r=t,t=0):r=e),r&&(e=r.query||e,t=r.limit||t);let n=""+(t||0);r&&(n+=(r.offset||0)+!!r.context+!!r.suggest+(r.resolve!==!1)+(r.resolution||this.resolution)+(r.boost||0)),e=(""+e).toLowerCase(),this.cache||(this.cache=new $e);let i=this.cache.get(e+n);if(!i){let s=r&&r.cache;s&&(r.cache=!1),i=this.search(e,t,r),s&&(r.cache=s),this.cache.set(e+n,i)}return i}function $e(e){this.limit=e&&e!==!0?e:1e3,this.cache=new Map,this.h=""}$e.prototype.set=function(e,t){this.cache.set(this.h=e,t),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)},$e.prototype.get=function(e){let t=this.cache.get(e);return t&&this.h!==e&&(this.cache.delete(e),this.cache.set(this.h=e,t)),t},$e.prototype.remove=function(e){for(let t of this.cache){let r=t[0];t[1].includes(e)&&this.cache.delete(r)}},$e.prototype.clear=function(){this.cache.clear(),this.h=""};var it={normalize:!1,numeric:!1,dedupe:!1},k={},w=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]),x=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["ph","f"],["pf","f"]]),U=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/(.)\1+/g,"$1"],Z={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,\u00DF:2,d:3,t:3,l:4,m:5,n:5,r:6},Y={Exact:it,Default:k,Normalize:k,LatinBalance:{mapper:w},LatinAdvanced:{mapper:w,matcher:x,replacer:U},LatinExtra:{mapper:w,replacer:U.concat([/(?!^)[aeo]/g,""]),matcher:x},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(e){for(let r=0;r<e.length;r++){var t=e[r];let n=t.charAt(0),i=Z[n];for(let s=1,l;s<t.length&&(l=t.charAt(s),l==="h"||l==="w"||!(l=Z[l])||l===i||(n+=l,i=l,n.length!==4));s++);e[r]=n}}},CJK:{split:""},LatinExact:it,LatinDefault:k,LatinSimple:k};function ee(e,t,r,n){let i=[];for(let s=0,l;s<e.index.length;s++)if(l=e.index[s],t>=l.length)t-=l.length;else{t=l[n?"splice":"slice"](t,r);let o=t.length;if(o&&(i=i.length?i.concat(t):t,r-=o,n&&(e.length-=o),!r))break;t=0}return i}function ie(e){if(!this||this.constructor!==ie)return new ie(e);this.index=e?[e]:[],this.length=e?e.length:0;let t=this;return new Proxy([],{get(r,n){if(n==="length")return t.length;if(n==="push")return function(i){t.index[t.index.length-1].push(i),t.length++};if(n==="pop")return function(){if(t.length)return t.length--,t.index[t.index.length-1].pop()};if(n==="indexOf")return function(i){let s=0;for(let l=0,o,a;l<t.index.length;l++){if(o=t.index[l],a=o.indexOf(i),a>=0)return s+a;s+=o.length}return-1};if(n==="includes")return function(i){for(let s=0;s<t.index.length;s++)if(t.index[s].includes(i))return!0;return!1};if(n==="slice")return function(i,s){return ee(t,i||0,s||t.length,!1)};if(n==="splice")return function(i,s){return ee(t,i||0,s||t.length,!0)};if(n==="constructor")return Array;if(typeof n!="symbol")return(r=t.index[n/2**31|0])&&r[n]},set(r,n,i){return r=n/2**31|0,(t.index[r]||(t.index[r]=[]))[n]=i,t.length++,!0}})}ie.prototype.clear=function(){this.index.length=0},ie.prototype.push=function(){};function Q(e=8){if(!this||this.constructor!==Q)return new Q(e);this.index=fe(),this.h=[],this.size=0,e>32?(this.B=z,this.A=BigInt(e)):(this.B=we,this.A=e)}Q.prototype.get=function(e){let t=this.index[this.B(e)];return t&&t.get(e)},Q.prototype.set=function(e,t){var r=this.B(e);let n=this.index[r];n?(r=n.size,n.set(e,t),(r-=n.size)&&this.size++):(this.index[r]=n=new Map([[e,t]]),this.h.push(n),this.size++)};function re(e=8){if(!this||this.constructor!==re)return new re(e);this.index=fe(),this.h=[],this.size=0,e>32?(this.B=z,this.A=BigInt(e)):(this.B=we,this.A=e)}re.prototype.add=function(e){var t=this.B(e);let r=this.index[t];r?(t=r.size,r.add(e),(t-=r.size)&&this.size++):(this.index[t]=r=new Set([e]),this.h.push(r),this.size++)},L=Q.prototype,L.has=re.prototype.has=function(e){let t=this.index[this.B(e)];return t&&t.has(e)},L.delete=re.prototype.delete=function(e){let t=this.index[this.B(e)];t&&t.delete(e)&&this.size--},L.clear=re.prototype.clear=function(){this.index=fe(),this.h=[],this.size=0},L.values=re.prototype.values=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].values())yield t},L.keys=re.prototype.keys=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].keys())yield t},L.entries=re.prototype.entries=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].entries())yield t};function we(e){let t=2**this.A-1;if(typeof e=="number")return e&t;let r=0,n=this.A+1;for(let i=0;i<e.length;i++)r=(r*n^e.charCodeAt(i))&t;return this.A===32?r+2**31:r}function z(e){let t=BigInt(2)**this.A-BigInt(1);var r=typeof e;if(r==="bigint")return e&t;if(r==="number")return BigInt(e)&t;r=BigInt(0);let n=this.A+BigInt(1);for(let i=0;i<e.length;i++)r=(r*n^BigInt(e.charCodeAt(i)))&t;return r}var V,O;async function N(e){e=e.data;var t=e.task;let r=e.id,n=e.args;switch(t){case"init":O=e.options||{},(t=e.factory)?(Function("return "+t)()(self),V=new self.FlexSearch.Index(O),delete self.FlexSearch):V=new Fe(O),postMessage({id:r});break;default:let i;t==="export"&&(n[1]?(n[0]=O.export,n[2]=0,n[3]=1):n=null),t==="import"?n[0]&&(e=await O.import.call(V,n[0]),V.import(n[0],e)):((i=n&&V[t].apply(V,n))&&i.then&&(i=await i),i&&i.await&&(i=await i.await),t==="search"&&i.result&&(i=i.result)),postMessage(t==="search"?{id:r,msg:i}:{id:r})}}function se(e){b.call(e,"add"),b.call(e,"append"),b.call(e,"search"),b.call(e,"update"),b.call(e,"remove"),b.call(e,"searchCache")}var S,te,Ne;function m(){S=Ne=0}function b(e){this[e+"Async"]=function(){let t=arguments;var r=t[t.length-1];let n;if(typeof r=="function"&&(n=r,delete t[t.length-1]),S?Ne||(Ne=Date.now()-te>=this.priority*this.priority*3):(S=setTimeout(m,0),te=Date.now()),Ne){let s=this;return new Promise(l=>{setTimeout(function(){l(s[e+"Async"].apply(s,t))},0)})}let i=this[e].apply(this,t);return r=i.then?i:new Promise(s=>s(i)),n&&r.then(n),r}}var j=0;function P(e={},t){function r(o){function a(c){c=c.data||c;let u=c.id,f=u&&s.h[u];f&&(f(c.msg),delete s.h[u])}if(this.worker=o,this.h=fe(),this.worker)return i?this.worker.on("message",a):this.worker.onmessage=a,e.config?new Promise(function(c){j>1e9&&(j=0),s.h[++j]=function(){c(s)},s.worker.postMessage({id:j,task:"init",factory:n,options:e})}):(this.priority=e.priority||4,this.encoder=t||null,this.worker.postMessage({task:"init",factory:n,options:e}),this)}if(!this||this.constructor!==P)return new P(e);let n=typeof self<"u"?self._factory:typeof window<"u"?window._factory:null;n&&(n=n.toString());let i=typeof window>"u",s=this,l=_(n,i,e.worker);return l.then?l.then(function(o){return r.call(s,o)}):r.call(this,l)}H("add"),H("append"),H("search"),H("update"),H("remove"),H("clear"),H("export"),H("import"),P.prototype.searchCache=Ze,se(P.prototype);function H(e){P.prototype[e]=function(){let t=this,r=[].slice.call(arguments);var n=r[r.length-1];let i;return typeof n=="function"&&(i=n,r.pop()),n=new Promise(function(s){e==="export"&&typeof r[0]=="function"&&(r[0]=null),j>1e9&&(j=0),t.h[++j]=s,t.worker.postMessage({task:e,id:j,args:r})}),i?(n.then(i),this):n}}function _(e,t,r){return t?typeof module<"u"?new(Ue()).Worker(__dirname+"/worker/node.js"):Promise.resolve().then(()=>xe(Ue())).then(function(n){return new n.Worker(import.meta.dirname+"/node/node.mjs")}):e?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+N.toString()],{type:"text/javascript"}))):new window.Worker(typeof r=="string"?r:import.meta.url.replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js","module/worker/worker.js"),{type:"module"})}Qe.prototype.add=function(e,t,r){if(Me(e)&&(t=e,e=Ke(t,this.key)),t&&(e||e===0)){if(!r&&this.reg.has(e))return this.update(e,t);for(let o=0,a;o<this.field.length;o++){a=this.B[o];var n=this.index.get(this.field[o]);if(typeof a=="function"){var i=a(t);i&&n.add(e,i,r,!0)}else i=a.G,(!i||i(t))&&(a.constructor===String?a=[""+a]:Ee(a)&&(a=[a]),ne(t,a,this.D,0,n,e,a[0],r))}if(this.tag)for(n=0;n<this.A.length;n++){var s=this.A[n];i=this.tag.get(this.F[n]);let o=fe();if(typeof s=="function"){if(s=s(t),!s)continue}else{var l=s.G;if(l&&!l(t))continue;s.constructor===String&&(s=""+s),s=Ke(t,s)}if(i&&s){Ee(s)&&(s=[s]);for(let a=0,c,u;a<s.length;a++)if(c=s[a],!o[c]&&(o[c]=1,(l=i.get(c))?u=l:i.set(c,u=[]),!r||!u.includes(e))){if(u.length===2**31-1){if(l=new ie(u),this.fastupdate)for(let f of this.reg.values())f.includes(u)&&(f[f.indexOf(u)]=l);i.set(c,u=l)}u.push(e),this.fastupdate&&((l=this.reg.get(e))?l.push(u):this.reg.set(e,[u]))}}}if(this.store&&(!r||!this.store.has(e))){let o;if(this.h){o=fe();for(let a=0,c;a<this.h.length;a++){if(c=this.h[a],(r=c.G)&&!r(t))continue;let u;if(typeof c=="function"){if(u=c(t),!u)continue;c=[c.O]}else if(Ee(c)||c.constructor===String){o[c]=t[c];continue}q(t,o,c,0,c[0],u)}}this.store.set(e,o||t)}this.worker&&(this.fastupdate||this.reg.add(e))}return this};function q(e,t,r,n,i,s){if(e=e[i],n===r.length-1)t[i]=s||e;else if(e)if(e.constructor===Array)for(t=t[i]=Array(e.length),i=0;i<e.length;i++)q(e,t,r,n,i);else t=t[i]||(t[i]=fe()),i=r[++n],q(e,t,r,n,i)}function ne(e,t,r,n,i,s,l,o){if(e=e[l])if(n===t.length-1){if(e.constructor===Array){if(r[n]){for(t=0;t<e.length;t++)i.add(s,e[t],!0,!0);return}e=e.join(" ")}i.add(s,e,o,!0)}else if(e.constructor===Array)for(l=0;l<e.length;l++)ne(e,t,r,n,i,s,l,o);else l=t[++n],ne(e,t,r,n,i,s,l,o)}function ge(e,t,r,n){if(!e.length)return e;if(e.length===1)return e=e[0],e=r||e.length>t?e.slice(r,r+t):e,n?rt.call(this,e):e;let i=[];for(let s=0,l,o;s<e.length;s++)if((l=e[s])&&(o=l.length)){if(r){if(r>=o){r-=o;continue}l=l.slice(r,r+t),o=l.length,r=0}if(o>t&&(l=l.slice(0,t),o=t),!i.length&&o>=t)return n?rt.call(this,l):l;if(i.push(l),t-=o,!t)break}return i=i.length>1?[].concat.apply([],i):i[0],n?rt.call(this,i):i}function je(e,t,r,n){var i=n[0];if(i[0]&&i[0].query)return e[t].apply(e,i);if(!(t!=="and"&&t!=="not"||e.result.length||e.await||i.suggest))return n.length>1&&(i=n[n.length-1]),(n=i.resolve)?e.await||e.result:e;let s=[],l=0,o=0,a,c,u,f,y;for(t=0;t<n.length;t++)if(i=n[t]){var h=void 0;if(i.constructor===B)h=i.await||i.result;else if(i.then||i.constructor===Array)h=i;else{l=i.limit||0,o=i.offset||0,u=i.suggest,c=i.resolve,a=((f=i.highlight||e.highlight)||i.enrich)&&c,h=i.queue;let g=i.async||h,p=i.index,d=i.query;if(p?e.index||(e.index=p):p=e.index,d||i.tag){let A=i.field||i.pluck;if(A&&(!d||e.query&&!f||(e.query=d,e.field=A,e.highlight=f),p=p.index.get(A)),h&&(y||e.await)){y=1;let v,T=e.C.length,W=new Promise(function(le){v=le});(function(le,D){W.h=function(){D.index=null,D.resolve=!1;let G=g?le.searchAsync(D):le.search(D);return G.then?G.then(function(M){return e.C[T]=M=M.result||M,v(M),M}):(G=G.result||G,v(G),G)}})(p,Object.assign({},i)),e.C.push(W),s[t]=W;continue}else i.resolve=!1,i.index=null,h=g?p.searchAsync(i):p.search(i),i.resolve=c,i.index=p}else if(i.and)h=Se(i,"and",p);else if(i.or)h=Se(i,"or",p);else if(i.not)h=Se(i,"not",p);else if(i.xor)h=Se(i,"xor",p);else continue}h.await?(y=1,h=h.await):h.then?(y=1,h=h.then(function(g){return g.result||g})):h=h.result||h,s[t]=h}if(y&&!e.await&&(e.await=new Promise(function(g){e.return=g})),y){let g=Promise.all(s).then(function(p){for(let d=0;d<e.C.length;d++)if(e.C[d]===g){e.C[d]=function(){return r.call(e,p,l,o,a,c,u,f)};break}ve(e)});e.C.push(g)}else if(e.await)e.C.push(function(){return r.call(e,s,l,o,a,c,u,f)});else return r.call(e,s,l,o,a,c,u,f);return c?e.await||e.result:e}function Se(e,t,r){e=e[t];let n=e[0]||e;return n.index||(n.index=r),r=new B(n),e.length>1&&(r=r[t].apply(r,e.slice(1))),r}B.prototype.or=function(){return je(this,"or",J,arguments)};function J(e,t,r,n,i,s,l){return e.length&&(this.result.length&&e.push(this.result),e.length<2?this.result=e[0]:(this.result=qe(e,t,r,!1,this.h),r=0)),i&&(this.await=null),i?this.resolve(t,r,n,l):this}B.prototype.and=function(){return je(this,"and",me,arguments)};function me(e,t,r,n,i,s,l){if(!s&&!this.result.length)return i?this.result:this;let o;if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{let a=0;for(let c=0,u,f;c<e.length;c++)if((u=e[c])&&(f=u.length))a<f&&(a=f);else if(!s){a=0;break}a?(this.result=_e(e,a,t,r,s,this.h,i),o=!0):this.result=[]}else s||(this.result=e);return i&&(this.await=null),i?this.resolve(t,r,n,l,o):this}B.prototype.xor=function(){return je(this,"xor",I,arguments)};function I(e,t,r,n,i,s,l){if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{e:{s=r;var o=this.h;let a=[],c=fe(),u=0;for(let f=0,y;f<e.length;f++)if(y=e[f]){u<y.length&&(u=y.length);for(let h=0,g;h<y.length;h++)if(g=y[h])for(let p=0,d;p<g.length;p++)d=g[p],c[d]=c[d]?2:1}for(let f=0,y,h=0;f<u;f++)for(let g=0,p;g<e.length;g++)if((p=e[g])&&(y=p[f])){for(let d=0,A;d<y.length;d++)if(A=y[d],c[A]===1)if(s)s--;else if(i){if(a.push(A),a.length===t){e=a;break e}}else{let v=f+(g?o:0);if(a[v]||(a[v]=[]),a[v].push(A),++h===t){e=a;break e}}}e=a}this.result=e,o=!0}else s||(this.result=e);return i&&(this.await=null),i?this.resolve(t,r,n,l,o):this}B.prototype.not=function(){return je(this,"not",F,arguments)};function F(e,t,r,n,i,s,l){if(!s&&!this.result.length)return i?this.result:this;if(e.length&&this.result.length){e:{s=r;var o=[];e=new Set(e.flat().flat());for(let a=0,c,u=0;a<this.result.length;a++)if(c=this.result[a]){for(let f=0,y;f<c.length;f++)if(y=c[f],!e.has(y)){if(s)s--;else if(i){if(o.push(y),o.length===t){e=o;break e}}else if(o[a]||(o[a]=[]),o[a].push(y),++u===t){e=o;break e}}}e=o}this.result=e,o=!0}return i&&(this.await=null),i?this.resolve(t,r,n,l,o):this}function ue(e,t,r,n,i){let s,l,o;typeof i=="string"?(s=i,i=""):s=i.template,l=s.indexOf("$1"),o=s.substring(l+2),l=s.substring(0,l);let a=i&&i.boundary,c=!i||i.clip!==!1,u=i&&i.merge&&o&&l&&new RegExp(o+" "+l,"g");i=i&&i.ellipsis;var f=0;if(typeof i=="object"){var y=i.template;f=y.length-2,i=i.pattern}typeof i!="string"&&(i=i===!1?"":"..."),f&&(i=y.replace("$1",i)),y=i.length-f;let h,g;typeof a=="object"&&(h=a.before,h===0&&(h=-1),g=a.after,g===0&&(g=-1),a=a.total||9e5),f=new Map;for(let Re=0,Ce,yt,lt;Re<t.length;Re++){let ot;if(n)ot=t,lt=n;else{var p=t[Re];if(lt=p.field,!lt)continue;ot=p.result}yt=r.get(lt),Ce=yt.encoder,p=f.get(Ce),typeof p!="string"&&(p=Ce.encode(e),f.set(Ce,p));for(let wt=0;wt<ot.length;wt++){var d=ot[wt].doc;if(!d||(d=Ke(d,lt),!d))continue;var A=d.trim().split(/\s+/);if(!A.length)continue;d="";var v=[];let bt=[];for(var T=-1,W=-1,le=0,D=0;D<A.length;D++){var G=A[D],M=Ce.encode(G);M=M.length>1?M.join(" "):M[0];let $;if(M&&G){for(var R=G.length,E=(Ce.split?G.replace(Ce.split,""):G).length-M.length,C="",K=0,he=0;he<p.length;he++){var ae=p[he];if(ae){var X=ae.length;X+=E,K&&X<=K||(ae=M.indexOf(ae),ae>-1&&(C=(ae?G.substring(0,ae):"")+l+G.substring(ae,ae+X)+o+(ae+X<R?G.substring(ae+X):""),K=X,$=!0))}}C&&(a&&(T<0&&(T=d.length+(d?1:0)),W=d.length+(d?1:0)+C.length,le+=R,bt.push(v.length),v.push({match:C})),d+=(d?" ":"")+C)}if(!$)G=A[D],d+=(d?" ":"")+G,a&&v.push({text:G});else if(a&&le>=a)break}if(le=bt.length*(s.length-2),h||g||a&&d.length-le>a)if(le=a+le-y*2,D=W-T,h>0&&(D+=h),g>0&&(D+=g),D<=le)A=h?T-(h>0?h:0):T-((le-D)/2|0),v=g?W+(g>0?g:0):A+le,c||(A>0&&d.charAt(A)!==" "&&d.charAt(A-1)!==" "&&(A=d.indexOf(" ",A),A<0&&(A=0)),v<d.length&&d.charAt(v-1)!==" "&&d.charAt(v)!==" "&&(v=d.lastIndexOf(" ",v),v<W?v=W:++v)),d=(A?i:"")+d.substring(A,v)+(v<d.length?i:"");else{for(W=[],T={},le={},D={},G={},M={},C=E=R=0,he=K=1;;){var Le=void 0;for(let $=0,Ae;$<bt.length;$++){if(Ae=bt[$],C)if(E!==C){if(D[$+1])continue;if(Ae+=C,T[Ae]){R-=y,le[$+1]=1,D[$+1]=1;continue}if(Ae>=v.length-1){if(Ae>=v.length){D[$+1]=1,Ae>=A.length&&(le[$+1]=1);continue}R-=y}if(d=v[Ae].text,X=g&&M[$])if(X>0){if(d.length>X)if(D[$+1]=1,c)d=d.substring(0,X);else continue;(X-=d.length)||(X=-1),M[$]=X}else{D[$+1]=1;continue}if(R+d.length+1<=a)d=" "+d,W[$]+=d;else if(c)Le=a-R-1,Le>0&&(d=" "+d.substring(0,Le),W[$]+=d),D[$+1]=1;else{D[$+1]=1;continue}}else{if(D[$])continue;if(Ae-=E,T[Ae]){R-=y,D[$]=1,le[$]=1;continue}if(Ae<=0){if(Ae<0){D[$]=1,le[$]=1;continue}R-=y}if(d=v[Ae].text,X=h&&G[$])if(X>0){if(d.length>X)if(D[$]=1,c)d=d.substring(d.length-X);else continue;(X-=d.length)||(X=-1),G[$]=X}else{D[$]=1;continue}if(R+d.length+1<=a)d+=" ",W[$]=d+W[$];else if(c)Le=d.length+1-(a-R),Le>=0&&Le<d.length&&(d=d.substring(Le)+" ",W[$]=d+W[$]),D[$]=1;else{D[$]=1;continue}}else{d=v[Ae].match,h&&(G[$]=h),g&&(M[$]=g),$&&R++;let Ht;if(Ae?!$&&y&&(R+=y):(le[$]=1,D[$]=1),Ae>=A.length-1||Ae<v.length-1&&v[Ae+1].match?Ht=1:y&&(R+=y),R-=s.length-2,!$||R+d.length<=a)W[$]=d;else{Le=K=he=le[$]=0;break}Ht&&(le[$+1]=1,D[$+1]=1)}R+=d.length,Le=T[Ae]=1}if(Le)E===C?C++:E++;else{if(E===C?K=0:he=0,!K&&!he)break;K?(E++,C=E):C++}}d="";for(let $=0,Ae;$<W.length;$++)Ae=($&&le[$]?" ":($&&!i?" ":"")+i)+W[$],d+=Ae;i&&!le[W.length]&&(d+=i)}u&&(d=d.replace(u," ")),ot[wt].highlight=d}if(n)break}return t}function B(e,t){if(!this||this.constructor!==B)return new B(e,t);let r=0,n,i,s,l,o,a;if(e&&e.index){let c=e;if(t=c.index,r=c.boost||0,i=c.query){s=c.field||c.pluck,l=c.highlight;let u=c.resolve;e=c.async||c.queue,c.resolve=!1,c.index=null,e=e?t.searchAsync(c):t.search(c),c.resolve=u,c.index=t,e=e.result||e}else e=[]}if(e&&e.then){let c=this;e=e.then(function(u){c.C[0]=c.result=u.result||u,ve(c)}),n=[e],e=[],o=new Promise(function(u){a=u})}this.index=t||null,this.result=e||[],this.h=r,this.C=n||[],this.await=o||null,this.return=a||null,this.highlight=l||null,this.query=i||"",this.field=s||""}L=B.prototype,L.limit=function(e){if(this.await){let t=this;this.C.push(function(){return t.limit(e).result})}else if(this.result.length){let t=[];for(let r=0,n;r<this.result.length;r++)if(n=this.result[r])if(n.length<=e){if(t[r]=n,e-=n.length,!e)break}else{t[r]=n.slice(0,e);break}this.result=t}return this},L.offset=function(e){if(this.await){let t=this;this.C.push(function(){return t.offset(e).result})}else if(this.result.length){let t=[];for(let r=0,n;r<this.result.length;r++)(n=this.result[r])&&(n.length<=e?e-=n.length:(t[r]=n.slice(e),e=0));this.result=t}return this},L.boost=function(e){if(this.await){let t=this;this.C.push(function(){return t.boost(e).result})}else this.h+=e;return this};function ve(e,t){let r=e.result;var n=e.await;e.await=null;for(let i=0,s;i<e.C.length;i++)if(s=e.C[i]){if(typeof s=="function")r=s(),e.C[i]=r=r.result||r,i--;else if(s.h)r=s.h(),e.C[i]=r=r.result||r,i--;else if(s.then)return e.await=n}return n=e.return,e.C=[],e.return=null,t||n(r),r}L.resolve=function(e,t,r,n,i){let s=this.await?ve(this,!0):this.result;if(s.then){let l=this;return s.then(function(){return l.resolve(e,t,r,n,i)})}return s.length&&(typeof e=="object"?(n=e.highlight||this.highlight,r=!!n||e.enrich,t=e.offset,e=e.limit):(n=n||this.highlight,r=!!n||r),s=i?r?rt.call(this.index,s):s:ge.call(this.index,s,e||100,t,r)),this.finalize(s,n)},L.finalize=function(e,t){if(e.then){let n=this;return e.then(function(i){return n.finalize(i,t)})}t&&e.length&&this.query&&(e=ue(this.query,e,this.index.index,this.field,t));let r=this.return;return this.highlight=this.index=this.result=this.C=this.await=this.return=null,this.query=this.field="",r&&r(e),e};function _e(e,t,r,n,i,s,l){let o=e.length,a=[],c,u;c=fe();for(let f=0,y,h,g,p;f<t;f++)for(let d=0;d<o;d++)if(g=e[d],f<g.length&&(y=g[f]))for(let A=0;A<y.length;A++){if(h=y[A],(u=c[h])?c[h]++:(u=0,c[h]=1),p=a[u]||(a[u]=[]),!l){let v=f+(d||!i?0:s||0);p=p[v]||(p[v]=[])}if(p.push(h),l&&r&&u===o-1&&p.length-n===r)return n?p.slice(n):p}if(e=a.length)if(i)a=a.length>1?qe(a,r,n,l,s):(a=a[0])&&r&&a.length>r||n?a.slice(n,r+n):a;else{if(e<o)return[];if(a=a[e-1],r||n)if(l)(a.length>r||n)&&(a=a.slice(n,r+n));else{i=[];for(let f=0,y;f<a.length;f++)if(y=a[f]){if(n&&y.length>n)n-=y.length;else if((r&&y.length>r||n)&&(y=y.slice(n,r+n),r-=y.length,n&&(n-=y.length)),i.push(y),!r)break}a=i}}return a}function qe(e,t,r,n,i){let s=[],l=fe(),o;var a=e.length;let c;if(n){for(i=a-1;i>=0;i--)if(c=(n=e[i])&&n.length){for(a=0;a<c;a++)if(o=n[a],!l[o]){if(l[o]=1,r)r--;else if(s.push(o),s.length===t)return s}}}else for(let u=a-1,f,y=0;u>=0;u--){f=e[u];for(let h=0;h<f.length;h++)if(c=(n=f[h])&&n.length){for(let g=0;g<c;g++)if(o=n[g],!l[o])if(l[o]=1,r)r--;else{let p=(h+(u<a-1&&i||0))/(u+1)|0;if((s[p]||(s[p]=[])).push(o),++y===t)return s}}}return s}function at(e,t,r){let n=fe(),i=[];for(let s=0,l;s<t.length;s++){l=t[s];for(let o=0;o<l.length;o++)n[l[o]]=1}if(r)for(let s=0,l;s<e.length;s++)l=e[s],n[l]&&(i.push(l),n[l]=0);else for(let s=0,l,o;s<e.result.length;s++)for(l=e.result[s],t=0;t<l.length;t++)o=l[t],n[o]&&((i[s]||(i[s]=[])).push(o),n[o]=0);return i}fe(),Qe.prototype.search=function(e,t,r,n){r||(!t&&Me(e)?(r=e,e=""):Me(t)&&(r=t,t=0));let i=[];var s=[];let l,o,a,c,u,f,y=0,h=!0,g;if(r){r.constructor===Array&&(r={index:r}),e=r.query||e,l=r.pluck,o=r.merge,c=r.boost,f=l||r.field||(f=r.index)&&(f.index?null:f);var p=this.tag&&r.tag;a=r.suggest,h=r.resolve!==!1,u=r.cache,g=h&&this.store&&r.highlight;var d=!!g||h&&this.store&&r.enrich;t=r.limit||t;var A=r.offset||0;if(t||(t=h?100:0),p&&(!this.db||!n)){p.constructor!==Array&&(p=[p]);var v=[];for(let G=0,M;G<p.length;G++)if(M=p[G],M.field&&M.tag){var T=M.tag;if(T.constructor===Array)for(var W=0;W<T.length;W++)v.push(M.field,T[W]);else v.push(M.field,T)}else{T=Object.keys(M);for(let R=0,E,C;R<T.length;R++)if(E=T[R],C=M[E],C.constructor===Array)for(W=0;W<C.length;W++)v.push(E,C[W]);else v.push(E,C)}if(p=v,!e){if(s=[],v.length)for(p=0;p<v.length;p+=2){if(this.db){if(n=this.index.get(v[p]),!n)continue;s.push(n=n.db.tag(v[p+1],t,A,d))}else n=Kt.call(this,v[p],v[p+1],t,A,d);i.push(h?{field:v[p],tag:v[p+1],result:n}:[n])}if(s.length){let G=this;return Promise.all(s).then(function(M){for(let R=0;R<M.length;R++)h?i[R].result=M[R]:i[R]=M[R];return h?i:new B(i.length>1?_e(i,1,0,0,a,c):i[0],G)})}return h?i:new B(i.length>1?_e(i,1,0,0,a,c):i[0],this)}}h||l||!(f=f||this.field)||(Ee(f)?l=f:(f.constructor===Array&&f.length===1&&(f=f[0]),l=f.field||f.index)),f&&f.constructor!==Array&&(f=[f])}f||(f=this.field);let le;v=(this.worker||this.db)&&!n&&[];for(let G=0,M,R,E;G<f.length;G++){if(R=f[G],this.db&&this.tag&&!this.B[G])continue;let C;if(Ee(R)||(C=R,R=C.field,e=C.query||e,t=ze(C.limit,t),A=ze(C.offset,A),a=ze(C.suggest,a),g=h&&this.store&&ze(C.highlight,g),d=!!g||h&&this.store&&ze(C.enrich,d),u=ze(C.cache,u)),n)M=n[G];else{T=C||r||{},W=T.enrich;var D=this.index.get(R);if(p&&(this.db&&(T.tag=p,le=D.db.support_tag_search,T.field=f),!le&&W&&(T.enrich=!1)),M=u?D.searchCache(e,t,T):D.search(e,t,T),W&&(T.enrich=W),v){v[G]=M;continue}}if(E=(M=M.result||M)&&M.length,p&&E){if(T=[],W=0,this.db&&n){if(!le)for(D=f.length;D<n.length;D++){let K=n[D];if(K&&K.length)W++,T.push(K);else if(!a)return h?i:new B(i,this)}}else for(let K=0,he,ae;K<p.length;K+=2){if(he=this.tag.get(p[K]),!he){if(a)continue;return h?i:new B(i,this)}if(ae=(he=he&&he.get(p[K+1]))&&he.length)W++,T.push(he);else if(!a)return h?i:new B(i,this)}if(W){if(M=at(M,T,h),E=M.length,!E&&!a)return h?M:new B(M,this);W--}}if(E)s[y]=R,i.push(M),y++;else if(f.length===1)return h?i:new B(i,this)}if(v){if(this.db&&p&&p.length&&!le)for(d=0;d<p.length;d+=2){if(s=this.index.get(p[d]),!s){if(a)continue;return h?i:new B(i,this)}v.push(s.db.tag(p[d+1],t,A,!1))}let G=this;return Promise.all(v).then(function(M){return r&&(r.resolve=h),M.length&&(M=G.search(e,t,r,M)),M})}if(!y)return h?i:new B(i,this);if(l&&(!d||!this.store))return i=i[0],h?i:new B(i,this);for(v=[],A=0;A<s.length;A++){if(p=i[A],d&&p.length&&typeof p[0].doc>"u"&&(this.db?v.push(p=this.index.get(this.field[0]).db.enrich(p)):p=rt.call(this,p)),l)return h?g?ue(e,p,this.index,l,g):p:new B(p,this);i[A]={field:s[A],result:p}}if(d&&this.db&&v.length){let G=this;return Promise.all(v).then(function(M){for(let R=0;R<M.length;R++)i[R].result=M[R];return g&&(i=ue(e,i,G.index,l,g)),o?Ct(i):i})}return g&&(i=ue(e,i,this.index,l,g)),o?Ct(i):i};function Ct(e){let t=[],r=fe(),n=fe();for(let i=0,s,l,o,a,c,u,f;i<e.length;i++){s=e[i],l=s.field,o=s.result;for(let y=0;y<o.length;y++)c=o[y],typeof c!="object"?c={id:a=c}:a=c.id,(u=r[a])?u.push(l):(c.field=r[a]=[l],t.push(c)),(f=c.highlight)&&(u=n[a],u||(n[a]=u={},c.highlight=u),u[l]=f)}return t}function Kt(e,t,r,n,i){return e=this.tag.get(e),e?(e=e.get(t),e?(t=e.length-n,t>0&&((r&&t>r||n)&&(e=e.slice(n,n+r)),i&&(e=rt.call(this,e))),e):[]):[]}function rt(e){if(!this||!this.store)return e;if(this.db)return this.index.get(this.field[0]).db.enrich(e);let t=Array(e.length);for(let r=0,n;r<e.length;r++)n=e[r],t[r]={id:n,doc:this.store.get(n)};return t}function Qe(e){if(!this||this.constructor!==Qe)return new Qe(e);let t=e.document||e.doc||e,r,n;if(this.B=[],this.field=[],this.D=[],this.key=(r=t.key||t.id)&&ht(r,this.D)||"id",(n=e.keystore||0)&&(this.keystore=n),this.fastupdate=!!e.fastupdate,this.reg=!this.fastupdate||e.worker||e.db?n?new re(n):new Set:n?new Q(n):new Map,this.h=(r=t.store||null)&&r&&r!==!0&&[],this.store=r?n?new Q(n):new Map:null,this.cache=(r=e.cache||null)&&new $e(r),e.cache=!1,this.worker=e.worker||!1,this.priority=e.priority||4,this.index=Wt.call(this,e,t),this.tag=null,(r=t.tag)&&(typeof r=="string"&&(r=[r]),r.length)){this.tag=new Map,this.A=[],this.F=[];for(let i=0,s,l;i<r.length;i++){if(s=r[i],l=s.field||s,!l)throw Error("The tag field from the document descriptor is undefined.");s.custom?this.A[i]=s.custom:(this.A[i]=ht(l,this.D),s.filter&&(typeof this.A[i]=="string"&&(this.A[i]=new String(this.A[i])),this.A[i].G=s.filter)),this.F[i]=l,this.tag.set(l,new Map)}}if(this.worker){this.fastupdate=!1,e=[];for(let i of this.index.values())i.then&&e.push(i);if(e.length){let i=this;return Promise.all(e).then(function(s){let l=0;for(let o of i.index.entries()){let a=o[0],c=o[1];c.then&&(c=s[l],i.index.set(a,c),l++)}return i})}}else e.db&&(this.fastupdate=!1,this.mount(e.db))}L=Qe.prototype,L.mount=function(e){let t=this.field;if(this.tag)for(let s=0,l;s<this.F.length;s++){l=this.F[s];var r=void 0;this.index.set(l,r=new Fe({},this.reg)),t===this.field&&(t=t.slice(0)),t.push(l),r.tag=this.tag.get(l)}r=[];let n={db:e.db,type:e.type,fastupdate:e.fastupdate};for(let s=0,l,o;s<t.length;s++){n.field=o=t[s],l=this.index.get(o);let a=new e.constructor(e.id,n);a.id=e.id,r[s]=a.mount(l),l.document=!0,s?l.bypass=!0:l.store=this.store}let i=this;return this.db=Promise.all(r).then(function(){i.db=!0})},L.commit=async function(){let e=[];for(let t of this.index.values())e.push(t.commit());await Promise.all(e),this.reg.clear()},L.destroy=function(){let e=[];for(let t of this.index.values())e.push(t.destroy());return Promise.all(e)};function Wt(e,t){let r=new Map,n=t.index||t.field||t;Ee(n)&&(n=[n]);for(let s=0,l,o;s<n.length;s++){if(l=n[s],Ee(l)||(o=l,l=l.field),o=Me(o)?Object.assign({},e,o):e,this.worker){var i=void 0;i=(i=o.encoder)&&i.encode?i:new Be(typeof i=="string"?Y[i]:i||{}),i=new P(o,i),r.set(l,i)}this.worker||r.set(l,new Fe(o,this.reg)),o.custom?this.B[s]=o.custom:(this.B[s]=ht(l,this.D),o.filter&&(typeof this.B[s]=="string"&&(this.B[s]=new String(this.B[s])),this.B[s].G=o.filter)),this.field[s]=l}if(this.h){e=t.store,Ee(e)&&(e=[e]);for(let s=0,l,o;s<e.length;s++)l=e[s],o=l.field||l,l.custom?(this.h[s]=l.custom,l.custom.O=o):(this.h[s]=ht(o,this.D),l.filter&&(typeof this.h[s]=="string"&&(this.h[s]=new String(this.h[s])),this.h[s].G=l.filter))}return r}function ht(e,t){let r=e.split(":"),n=0;for(let i=0;i<r.length;i++)e=r[i],e[e.length-1]==="]"&&(e=e.substring(0,e.length-2))&&(t[n]=!0),e&&(r[n++]=e);return n<r.length&&(r.length=n),n>1?r:r[0]}L.append=function(e,t){return this.add(e,t,!0)},L.update=function(e,t){return this.remove(e).add(e,t)},L.remove=function(e){Me(e)&&(e=Ke(e,this.key));for(var t of this.index.values())t.remove(e,!0);if(this.reg.has(e)){if(this.tag&&!this.fastupdate)for(let r of this.tag.values())for(let n of r){t=n[0];let i=n[1],s=i.indexOf(e);s>-1&&(i.length>1?i.splice(s,1):r.delete(t))}this.store&&this.store.delete(e),this.reg.delete(e)}return this.cache&&this.cache.remove(e),this},L.clear=function(){let e=[];for(let t of this.index.values()){let r=t.clear();r.then&&e.push(r)}if(this.tag)for(let t of this.tag.values())t.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),e.length?Promise.all(e):this},L.contain=function(e){return this.db?this.index.get(this.field[0]).db.has(e):this.reg.has(e)},L.cleanup=function(){for(let e of this.index.values())e.cleanup();return this},L.get=function(e){return this.db?this.index.get(this.field[0]).db.enrich(e).then(function(t){return t[0]&&t[0].doc||null}):this.store.get(e)||null},L.set=function(e,t){return typeof e=="object"&&(t=e,e=Ke(t,this.key)),this.store.set(e,t),this},L.searchCache=Ze,L.export=Rt,L.import=Ut,se(Qe.prototype);function vt(e,t=0){let r=[],n=[];t&&(t=25e4/t*5e3|0);for(let i of e.entries())n.push(i),n.length===t&&(r.push(n),n=[]);return n.length&&r.push(n),r}function xt(e,t){t||(t=new Map);for(let r=0,n;r<e.length;r++)n=e[r],t.set(n[0],n[1]);return t}function Et(e,t=0){let r=[],n=[];t&&(t=25e4/t*1e3|0);for(let i of e.entries())n.push([i[0],vt(i[1])[0]]),n.length===t&&(r.push(n),n=[]);return n.length&&r.push(n),r}function Lt(e,t){t||(t=new Map);for(let r=0,n,i;r<e.length;r++)n=e[r],i=t.get(n[0]),t.set(n[0],xt(n[1],i));return t}function St(e){let t=[],r=[];for(let n of e.keys())r.push(n),r.length===25e4&&(t.push(r),r=[]);return r.length&&t.push(r),t}function Bt(e,t){t||(t=new Set);for(let r=0;r<e.length;r++)t.add(e[r]);return t}function ct(e,t,r,n,i,s,l=0){let o=n&&n.constructor===Array;var a=o?n.shift():n;if(!a)return this.export(e,t,i,s+1);if((a=e((t?t+".":"")+(l+1)+"."+r,JSON.stringify(a)))&&a.then){let c=this;return a.then(function(){return ct.call(c,e,t,r,o?n:null,i,s,l+1)})}return ct.call(this,e,t,r,o?n:null,i,s,l+1)}function Rt(e,t,r=0,n=0){if(r<this.field.length){let l=this.field[r];if((t=this.index.get(l).export(e,l,r,n=1))&&t.then){let o=this;return t.then(function(){return o.export(e,l,r+1)})}return this.export(e,l,r+1)}let i,s;switch(n){case 0:i="reg",s=St(this.reg),t=null;break;case 1:i="tag",s=this.tag&&Et(this.tag,this.reg.size),t=null;break;case 2:i="doc",s=this.store&&vt(this.store),t=null;break;default:return}return ct.call(this,e,t,i,s||null,r,n)}function Ut(e,t){var r=e.split(".");r[r.length-1]==="json"&&r.pop();let n=r.length>2?r[0]:"";if(r=r.length>2?r[2]:r[1],this.worker&&n)return this.index.get(n).import(e);if(t){if(typeof t=="string"&&(t=JSON.parse(t)),n)return this.index.get(n).import(r,t);switch(r){case"reg":this.fastupdate=!1,this.reg=Bt(t,this.reg);for(let i=0,s;i<this.field.length;i++)s=this.index.get(this.field[i]),s.fastupdate=!1,s.reg=this.reg;if(this.worker){t=[];for(let i of this.index.values())t.push(i.import(e));return Promise.all(t)}break;case"tag":this.tag=Lt(t,this.tag);break;case"doc":this.store=xt(t,this.store)}}}function Mt(e,t){let r="";for(let n of e.entries()){e=n[0];let i=n[1],s="";for(let l=0,o;l<i.length;l++){o=i[l]||[""];let a="";for(let c=0;c<o.length;c++)a+=(a?",":"")+(t==="string"?'"'+o[c]+'"':o[c]);a="["+a+"]",s+=(s?",":"")+a}s='["'+e+'",['+s+"]]",r+=(r?",":"")+s}return r}Fe.prototype.remove=function(e,t){let r=this.reg.size&&(this.fastupdate?this.reg.get(e):this.reg.has(e));if(r){if(this.fastupdate){for(let n=0,i,s;n<r.length;n++)if((i=r[n])&&(s=i.length))if(i[s-1]===e)i.pop();else{let l=i.indexOf(e);l>=0&&i.splice(l,1)}}else nt(this.map,e),this.depth&&nt(this.ctx,e);t||this.reg.delete(e)}return this.db&&(this.commit_task.push({del:e}),this.M&&It(this)),this.cache&&this.cache.remove(e),this};function nt(e,t){let r=0;var n=typeof t>"u";if(e.constructor===Array){for(let i=0,s,l,o;i<e.length;i++)if((s=e[i])&&s.length){if(n)return 1;if(l=s.indexOf(t),l>=0){if(s.length>1)return s.splice(l,1),1;if(delete e[i],r)return 1;o=1}else{if(o)return 1;r++}}}else for(let i of e.entries())n=i[0],nt(i[1],t)?r++:e.delete(n);return r}var Jt={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:"forward"},score:{resolution:9,context:{depth:2,resolution:3}}};Fe.prototype.add=function(e,t,r,n){if(t&&(e||e===0)){if(!n&&!r&&this.reg.has(e))return this.update(e,t);n=this.depth,t=this.encoder.encode(t,!n);let c=t.length;if(c){let u=fe(),f=fe(),y=this.resolution;for(let h=0;h<c;h++){let g=t[this.rtl?c-1-h:h];var i=g.length;if(i&&(n||!f[g])){var s=this.score?this.score(t,g,h,null,0):ft(y,c,h),l="";switch(this.tokenize){case"tolerant":if(We(this,f,g,s,e,r),i>2){for(let p=1,d,A,v,T;p<i-1;p++)d=g.charAt(p),A=g.charAt(p+1),v=g.substring(0,p)+A,T=g.substring(p+2),l=v+d+T,We(this,f,l,s,e,r),l=v+T,We(this,f,l,s,e,r);We(this,f,g.substring(0,g.length-1),s,e,r)}break;case"full":if(i>2){for(let p=0,d;p<i;p++)for(s=i;s>p;s--){l=g.substring(p,s),d=this.rtl?i-1-p:p;var o=this.score?this.score(t,g,h,l,d):ft(y,c,h,i,d);We(this,f,l,o,e,r)}break}case"bidirectional":case"reverse":if(i>1){for(o=i-1;o>0;o--){l=g[this.rtl?i-1-o:o]+l;var a=this.score?this.score(t,g,h,l,o):ft(y,c,h,i,o);We(this,f,l,a,e,r)}l=""}case"forward":if(i>1){for(o=0;o<i;o++)l+=g[this.rtl?i-1-o:o],We(this,f,l,s,e,r);break}default:if(We(this,f,g,s,e,r),n&&c>1&&h<c-1)for(i=this.N,l=g,s=Math.min(n+1,this.rtl?h+1:c-h),o=1;o<s;o++){g=t[this.rtl?c-1-h-o:h+o],a=this.bidirectional&&g>l;let p=this.score?this.score(t,l,h,g,o-1):ft(i+(c/2>i?0:1),c,h,s-1,o-1);We(this,u,a?l:g,p,e,r,a?g:l)}}}}this.fastupdate||this.reg.add(e)}}return this.db&&(this.commit_task.push(r?{ins:e}:{del:e}),this.M&&It(this)),this};function We(e,t,r,n,i,s,l){let o,a;if(!(o=t[r])||l&&!o[l]){if(l?(t=o||(t[r]=fe()),t[l]=1,a=e.ctx,(o=a.get(l))?a=o:a.set(l,a=e.keystore?new Q(e.keystore):new Map)):(a=e.map,t[r]=1),(o=a.get(r))?a=o:a.set(r,a=o=[]),s){for(let c=0,u;c<o.length;c++)if((u=o[c])&&u.includes(i)){if(c<=n)return;u.splice(u.indexOf(i),1),e.fastupdate&&(t=e.reg.get(i))&&t.splice(t.indexOf(u),1);break}}if(a=a[n]||(a[n]=[]),a.push(i),a.length===2**31-1){if(t=new ie(a),e.fastupdate)for(let c of e.reg.values())c.includes(a)&&(c[c.indexOf(a)]=t);o[n]=a=t}e.fastupdate&&((n=e.reg.get(i))?n.push(a):e.reg.set(i,[a]))}}function ft(e,t,r,n,i){return r&&e>1?t+(n||0)<=e?r+(i||0):(e-1)/(t+(n||0))*(r+(i||0))+1|0:0}Fe.prototype.search=function(e,t,r){if(r||(t||typeof e!="object"?typeof t=="object"&&(r=t,t=0):(r=e,e="")),r&&r.cache)return r.cache=!1,e=this.searchCache(e,t,r),r.cache=!0,e;let n=[],i,s,l,o=0,a,c,u,f,y;r&&(e=r.query||e,t=r.limit||t,o=r.offset||0,s=r.context,l=r.suggest,y=(a=r.resolve)&&r.enrich,u=r.boost,f=r.resolution,c=this.db&&r.tag),typeof a>"u"&&(a=this.resolve),s=this.depth&&s!==!1;let h=this.encoder.encode(e,!s);if(i=h.length,t=t||(a?100:0),i===1)return qt.call(this,h[0],"",t,o,a,y,c);if(i===2&&s&&!l)return qt.call(this,h[1],h[0],t,o,a,y,c);let g=fe(),p=0,d;if(s&&(d=h[0],p=1),f||f===0||(f=d?this.N:this.resolution),this.db){if(this.db.search&&(r=this.db.search(this,h,t,o,l,a,y,c),r!==!1))return r;let A=this;return(async function(){for(let v,T;p<i;p++){if((T=h[p])&&!g[T]){if(g[T]=1,v=await kt(A,T,d,0,0,!1,!1),v=Pt(v,n,l,f)){n=v;break}d&&(l&&v&&n.length||(d=T))}l&&d&&p===i-1&&!n.length&&(f=A.resolution,d="",p=-1,g=fe())}return Nt(n,f,t,o,l,u,a)})()}for(let A,v;p<i;p++){if((v=h[p])&&!g[v]){if(g[v]=1,A=kt(this,v,d,0,0,!1,!1),A=Pt(A,n,l,f)){n=A;break}d&&(l&&A&&n.length||(d=v))}l&&d&&p===i-1&&!n.length&&(f=this.resolution,d="",p=-1,g=fe())}return Nt(n,f,t,o,l,u,a)};function Nt(e,t,r,n,i,s,l){let o=e.length,a=e;if(o>1)a=_e(e,t,r,n,i,s,l);else if(o===1)return l?ge.call(null,e[0],r,n):new B(e[0],this);return l?a:new B(a,this)}function qt(e,t,r,n,i,s,l){return e=kt(this,e,t,r,n,i,s,l),this.db?e.then(function(o){return i?o||[]:new B(o,this)}):e&&e.length?i?ge.call(this,e,r,n):new B(e,this):i?[]:new B([],this)}function Pt(e,t,r,n){let i=[];if(e&&e.length){if(e.length<=n){t.push(e);return}for(let s=0,l;s<n;s++)(l=e[s])&&(i[s]=l);if(i.length){t.push(i);return}}if(!r)return i}function kt(e,t,r,n,i,s,l,o){let a;return r&&(a=e.bidirectional&&t>r)&&(a=r,r=t,t=a),e.db?e.db.get(t,r,n,i,s,l,o):(e=r?(e=e.ctx.get(r))&&e.get(t):e.map.get(t),e)}function Fe(e,t){if(!this||this.constructor!==Fe)return new Fe(e);if(e){var r=Ee(e)?e:e.preset;r&&(e=Object.assign({},Jt[r],e))}else e={};r=e.context;let n=r===!0?{depth:1}:r||{},i=Ee(e.encoder)?Y[e.encoder]:e.encode||e.encoder||{};this.encoder=i.encode?i:typeof i=="object"?new Be(i):{encode:i},this.resolution=e.resolution||9,this.tokenize=r=(r=e.tokenize)&&r!=="default"&&r!=="exact"&&r||"strict",this.depth=r==="strict"&&n.depth||0,this.bidirectional=n.bidirectional!==!1,this.fastupdate=!!e.fastupdate,this.score=e.score||null,(r=e.keystore||0)&&(this.keystore=r),this.map=r?new Q(r):new Map,this.ctx=r?new Q(r):new Map,this.reg=t||(this.fastupdate?r?new Q(r):new Map:r?new re(r):new Set),this.N=n.resolution||3,this.rtl=i.rtl||e.rtl||!1,this.cache=(r=e.cache||null)&&new $e(r),this.resolve=e.resolve!==!1,(r=e.db)&&(this.db=this.mount(r)),this.M=e.commit!==!1,this.commit_task=[],this.commit_timer=null,this.priority=e.priority||4}L=Fe.prototype,L.mount=function(e){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),e.mount(this)},L.commit=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.commit(this)},L.destroy=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.destroy()};function It(e){e.commit_timer||(e.commit_timer=setTimeout(function(){e.commit_timer=null,e.db.commit(e)},1))}L.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db?(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[],this.db.clear()):this},L.append=function(e,t){return this.add(e,t,!0)},L.contain=function(e){return this.db?this.db.has(e):this.reg.has(e)},L.update=function(e,t){let r=this,n=this.remove(e);return n&&n.then?n.then(()=>r.add(e,t)):this.add(e,t)},L.cleanup=function(){return this.fastupdate?(nt(this.map),this.depth&&nt(this.ctx),this):this},L.searchCache=Ze,L.export=function(e,t,r=0,n=0){let i,s;switch(n){case 0:i="reg",s=St(this.reg);break;case 1:i="cfg",s=null;break;case 2:i="map",s=vt(this.map,this.reg.size);break;case 3:i="ctx",s=Et(this.ctx,this.reg.size);break;default:return}return ct.call(this,e,t,i,s,r,n)},L.import=function(e,t){if(t)switch(typeof t=="string"&&(t=JSON.parse(t)),e=e.split("."),e[e.length-1]==="json"&&e.pop(),e.length===3&&e.shift(),e=e.length>1?e[1]:e[0],e){case"reg":this.fastupdate=!1,this.reg=Bt(t,this.reg);break;case"map":this.map=xt(t,this.map);break;case"ctx":this.ctx=Lt(t,this.ctx)}},L.serialize=function(e=!0){let t="",r="",n="";if(this.reg.size){let s;for(var i of this.reg.keys())s||(s=typeof i),t+=(t?",":"")+(s==="string"?'"'+i+'"':i);t="index.reg=new Set(["+t+"]);",r=Mt(this.map,s),r="index.map=new Map(["+r+"]);";for(let l of this.ctx.entries()){i=l[0];let o=Mt(l[1],s);o="new Map(["+o+"])",o='["'+i+'",'+o+"]",n+=(n?",":"")+o}n="index.ctx=new Map(["+n+"]);"}return e?"function inject(index){"+t+r+n+"}":t+r+n},se(Fe.prototype);var zt=typeof window<"u"&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),ut=["map","ctx","tag","reg","cfg"],Xe=fe();function dt(e,t={}){if(!this||this.constructor!==dt)return new dt(e,t);typeof e=="object"&&(t=e,e=e.name),e||console.info("Default storage space was used, because a name was not passed."),this.id="flexsearch"+(e?":"+e.toLowerCase().replace(/[^a-z0-9_\-]/g,""):""),this.field=t.field?t.field.toLowerCase().replace(/[^a-z0-9_\-]/g,""):"",this.type=t.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}L=dt.prototype,L.mount=function(e){return e.index?e.mount(this):(e.db=this,this.open())},L.open=function(){if(this.db)return this.db;let e=this;navigator.storage&&navigator.storage.persist(),Xe[e.id]||(Xe[e.id]=[]),Xe[e.id].push(e.field);let t=zt.open(e.id,1);return t.onupgradeneeded=function(){let r=e.db=this.result;for(let n=0,i;n<ut.length;n++){i=ut[n];for(let s=0,l;s<Xe[e.id].length;s++)l=Xe[e.id][s],r.objectStoreNames.contains(i+(i!=="reg"&&l?":"+l:""))||r.createObjectStore(i+(i!=="reg"&&l?":"+l:""))}},e.db=Je(t,function(r){e.db=r,e.db.onversionchange=function(){e.close()}})},L.close=function(){this.db&&this.db.close(),this.db=null},L.destroy=function(){let e=zt.deleteDatabase(this.id);return Je(e)},L.clear=function(){let e=[];for(let r=0,n;r<ut.length;r++){n=ut[r];for(let i=0,s;i<Xe[this.id].length;i++)s=Xe[this.id][i],e.push(n+(n!=="reg"&&s?":"+s:""))}let t=this.db.transaction(e,"readwrite");for(let r=0;r<e.length;r++)t.objectStore(e[r]).clear();return Je(t)},L.get=function(e,t,r=0,n=0,i=!0,s=!1){e=this.db.transaction((t?"ctx":"map")+(this.field?":"+this.field:""),"readonly").objectStore((t?"ctx":"map")+(this.field?":"+this.field:"")).get(t?t+":"+e:e);let l=this;return Je(e).then(function(o){let a=[];if(!o||!o.length)return a;if(i){if(!r&&!n&&o.length===1)return o[0];for(let c=0,u;c<o.length;c++)if((u=o[c])&&u.length){if(n>=u.length){n-=u.length;continue}let f=r?n+Math.min(u.length-n,r):u.length;for(let y=n;y<f;y++)a.push(u[y]);if(n=0,a.length===r)break}return s?l.enrich(a):a}return o})},L.tag=function(e,t=0,r=0,n=!1){e=this.db.transaction("tag"+(this.field?":"+this.field:""),"readonly").objectStore("tag"+(this.field?":"+this.field:"")).get(e);let i=this;return Je(e).then(function(s){return!s||!s.length||r>=s.length?[]:!t&&!r?s:(s=s.slice(r,r+t),n?i.enrich(s):s)})},L.enrich=function(e){typeof e!="object"&&(e=[e]);let t=this.db.transaction("reg","readonly").objectStore("reg"),r=[];for(let n=0;n<e.length;n++)r[n]=Je(t.get(e[n]));return Promise.all(r).then(function(n){for(let i=0;i<n.length;i++)n[i]={id:e[i],doc:n[i]?JSON.parse(n[i]):null};return n})},L.has=function(e){return e=this.db.transaction("reg","readonly").objectStore("reg").getKey(e),Je(e).then(function(t){return!!t})},L.search=null,L.info=function(){},L.transaction=function(e,t,r){e+=e!=="reg"&&this.field?":"+this.field:"";let n=this.h[e+":"+t];if(n)return r.call(this,n);let i=this.db.transaction(e,t);this.h[e+":"+t]=n=i.objectStore(e);let s=r.call(this,n);return this.h[e+":"+t]=null,Je(i).finally(function(){return i=n=null,s})},L.commit=async function(e){let t=e.commit_task,r=[];e.commit_task=[];for(let n=0,i;n<t.length;n++)i=t[n],i.del&&r.push(i.del);r.length&&await this.remove(r),e.reg.size&&(await this.transaction("map","readwrite",function(n){for(let i of e.map){let s=i[0],l=i[1];l.length&&(n.get(s).onsuccess=function(){let o=this.result;var a;if(o&&o.length){let c=Math.max(o.length,l.length);for(let u=0,f,y;u<c;u++)if((y=l[u])&&y.length){if((f=o[u])&&f.length)for(a=0;a<y.length;a++)f.push(y[a]);else o[u]=y;a=1}}else o=l,a=1;a&&n.put(o,s)})}}),await this.transaction("ctx","readwrite",function(n){for(let i of e.ctx){let s=i[0],l=i[1];for(let o of l){let a=o[0],c=o[1];c.length&&(n.get(s+":"+a).onsuccess=function(){let u=this.result;var f;if(u&&u.length){let y=Math.max(u.length,c.length);for(let h=0,g,p;h<y;h++)if((p=c[h])&&p.length){if((g=u[h])&&g.length)for(f=0;f<p.length;f++)g.push(p[f]);else u[h]=p;f=1}}else u=c,f=1;f&&n.put(u,s+":"+a)})}}}),e.store?await this.transaction("reg","readwrite",function(n){for(let i of e.store){let s=i[0],l=i[1];n.put(typeof l=="object"?JSON.stringify(l):1,s)}}):e.bypass||await this.transaction("reg","readwrite",function(n){for(let i of e.reg.keys())n.put(1,i)}),e.tag&&await this.transaction("tag","readwrite",function(n){for(let i of e.tag){let s=i[0],l=i[1];l.length&&(n.get(s).onsuccess=function(){let o=this.result;o=o&&o.length?o.concat(l):l,n.put(o,s)})}}),e.map.clear(),e.ctx.clear(),e.tag&&e.tag.clear(),e.store&&e.store.clear(),e.document||e.reg.clear())};function jt(e,t,r){let n=e.value,i,s=0;for(let l=0,o;l<n.length;l++){if(o=r?n:n[l]){for(let a=0,c,u;a<t.length;a++)if(u=t[a],c=o.indexOf(u),c>=0)if(i=1,o.length>1)o.splice(c,1);else{n[l]=[];break}s+=o.length}if(r)break}s?i&&e.update(n):e.delete(),e.continue()}L.remove=function(e){return typeof e!="object"&&(e=[e]),Promise.all([this.transaction("map","readwrite",function(t){t.openCursor().onsuccess=function(){let r=this.result;r&&jt(r,e)}}),this.transaction("ctx","readwrite",function(t){t.openCursor().onsuccess=function(){let r=this.result;r&&jt(r,e)}}),this.transaction("tag","readwrite",function(t){t.openCursor().onsuccess=function(){let r=this.result;r&&jt(r,e,!0)}}),this.transaction("reg","readwrite",function(t){for(let r=0;r<e.length;r++)t.delete(e[r])})])};function Je(e,t){return new Promise((r,n)=>{e.onsuccess=e.oncomplete=function(){t&&t(this.result),t=null,r(this.result)},e.onerror=e.onblocked=n,e=null})}var Gt={Index:Fe,Charset:Y,Encoder:Be,Document:Qe,Worker:P,Resolver:B,IndexedDB:dt,Language:{}};function Dt(e,t){if(!e)return;function r(i){i.target===this&&(i.preventDefault(),i.stopPropagation(),t())}function n(i){i.key.startsWith("Esc")&&(i.preventDefault(),t())}e?.addEventListener("click",r),window.addCleanup(()=>e?.removeEventListener("click",r)),document.addEventListener("keydown",n),window.addCleanup(()=>document.removeEventListener("keydown",n))}function pt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}var cr=Object.hasOwnProperty,Zt=xe(Ye(),1),fr=(0,Zt.default)();function Qt(e){let t=$t(ir(e,"index"),!0);return t.length===0?"/":t}var Tt=(e,t,r)=>{let n=new URL(e.getAttribute(t),r);e.setAttribute(t,n.pathname+n.hash)};function Xt(e,t){e.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(r=>Tt(r,"href",t)),e.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(r=>Tt(r,"src",t))}function Yt(e){let t=e.split("/").filter(r=>r!=="").slice(0,-1).map(r=>"..").join("/");return t.length===0&&(t="."),t}function er(e,t){return tr(Yt(e),Qt(t))}function tr(...e){if(e.length===0)return"";let t=e.filter(r=>r!==""&&r!=="/").map(r=>$t(r)).join("/");return e[0].startsWith("/")&&(t="/"+t),e[e.length-1].endsWith("/")&&(t=t+"/"),t}function rr(e,t){return e===t||e.endsWith("/"+t)}function ir(e,t){return rr(e,t)&&(e=e.slice(0,-t.length)),e}function $t(e,t){return e.startsWith("/")&&(e=e.substring(1)),!t&&e.endsWith("/")&&(e=e.slice(0,-1)),e}var Ge="basic",Pe="",nr=e=>e.toLowerCase().split(/\s+/).filter(t=>t.length>0),st=new Gt.Document({encode:nr,document:{id:"id",tag:"tags",index:[{field:"title",tokenize:"forward"},{field:"content",tokenize:"forward"},{field:"tags",tokenize:"forward"}]}}),sr=new DOMParser,At=new Map,gt=30,mt=8,lr=5,_t=e=>{let t=e.split(/\s+/).filter(n=>n.trim()!==""),r=t.length;if(r>1)for(let n=1;n<r;n++)t.push(t.slice(0,n+1).join(" "));return t.sort((n,i)=>i.length-n.length)};function Ft(e,t,r){let n=_t(e),i=t.split(/\s+/).filter(a=>a!==""),s=0,l=i.length-1;if(r){let a=y=>n.some(h=>y.toLowerCase().startsWith(h.toLowerCase())),c=i.map(a),u=0,f=0;for(let y=0;y<Math.max(i.length-gt,0);y++){let h=c.slice(y,y+gt).reduce((g,p)=>g+(p?1:0),0);h>=u&&(u=h,f=y)}s=Math.max(f-gt,0),l=Math.min(s+2*gt,i.length-1),i=i.slice(s,l)}let o=i.map(a=>{for(let c of n)if(a.toLowerCase().includes(c.toLowerCase())){let u=new RegExp(c.toLowerCase(),"gi");return a.replace(u,'<span class="highlight">$&</span>')}return a}).join(" ");return`${s===0?"":"..."}${o}${l===i.length-1?"":"..."}`}function or(e,t){let r=new DOMParser,n=_t(e),i=r.parseFromString(t.innerHTML,"text/html"),s=o=>{let a=document.createElement("span");return a.className="highlight",a.textContent=o,a},l=(o,a)=>{if(o.nodeType===Node.TEXT_NODE){let c=o.nodeValue??"",u=new RegExp(a.toLowerCase(),"gi"),f=c.match(u);if(!f||f.length===0)return;let y=document.createElement("span"),h=0;for(let g of f){let p=c.indexOf(g,h);y.appendChild(document.createTextNode(c.slice(h,p))),y.appendChild(s(g)),h=p+g.length}y.appendChild(document.createTextNode(c.slice(h))),o.parentNode?.replaceChild(y,o)}else if(o.nodeType===Node.ELEMENT_NODE){if(o.classList.contains("highlight"))return;Array.from(o.childNodes).forEach(c=>l(c,a))}};for(let o of n)l(i.body,o);return i.body}async function ar(e,t,r){let n=e.querySelector(".search-container");if(!n)return;let i=n.closest(".sidebar"),s=e.querySelector(".search-button");if(!s)return;let l=e.querySelector(".search-bar");if(!l)return;let o=e.querySelector(".search-layout");if(!o)return;let a=Object.keys(r),c=E=>{o.appendChild(E)},u=o.dataset.preview==="true",f,y,h=document.createElement("div");h.className="results-container",c(h),u&&(f=document.createElement("div"),f.className="preview-container",c(f));function g(){n.classList.remove("active"),l.value="",i&&(i.style.zIndex=""),pt(h),f&&pt(f),o.classList.remove("display-results"),Ge="basic",s.focus()}function p(E){Ge=E,i&&(i.style.zIndex="1"),n.classList.add("active"),l.focus()}let d=null;async function A(E){if(E.key==="k"&&(E.ctrlKey||E.metaKey)&&!E.shiftKey){E.preventDefault(),n.classList.contains("active")?g():p("basic");return}else if(E.shiftKey&&(E.ctrlKey||E.metaKey)&&E.key.toLowerCase()==="k"){E.preventDefault(),n.classList.contains("active")?g():p("tags"),l.value="#";return}if(d&&d.classList.remove("focus"),!!n.classList.contains("active")){if(E.key==="Enter"&&!E.isComposing)if(h.contains(document.activeElement)){let C=document.activeElement;if(C.classList.contains("no-match"))return;await M(C),C.click()}else{let C=document.getElementsByClassName("result-card")[0];if(!C||C.classList.contains("no-match"))return;await M(C),C.click()}else if(E.key==="ArrowUp"||E.shiftKey&&E.key==="Tab"){if(E.preventDefault(),h.contains(document.activeElement)){let C=d||document.activeElement,K=C?.previousElementSibling;C?.classList.remove("focus"),K?.focus(),K&&(d=K),await M(K)}}else if((E.key==="ArrowDown"||E.key==="Tab")&&(E.preventDefault(),document.activeElement===l||d!==null)){let C=d||document.getElementsByClassName("result-card")[0],K=C?.nextElementSibling;C?.classList.remove("focus"),K?.focus(),K&&(d=K),await M(K)}}}let v=(E,C)=>{let K=a[C];return{id:C,slug:K,title:Ge==="tags"?r[K].title:Ft(E,r[K].title??""),content:Ft(E,r[K].content??"",!0),tags:T(E.substring(1),r[K].tags)}};function T(E,C){return!C||Ge!=="tags"?[]:C.map(K=>K.toLowerCase().includes(E.toLowerCase())?`<li><p class="match-tag">#${K}</p></li>`:`<li><p>#${K}</p></li>`).slice(0,lr)}function W(E){return new URL(er(t,E),location.toString())}let le=({slug:E,title:C,content:K,tags:he})=>{let ae=he.length>0?`<ul class="tags">${he.join("")}</ul>`:"",X=document.createElement("a");X.classList.add("result-card"),X.id=E,X.href=W(E).toString(),X.innerHTML=`
      <h3 class="card-title">${C}</h3>
      ${ae}
      <p class="card-description">${K}</p>
    `,X.addEventListener("click",Ce=>{Ce.altKey||Ce.ctrlKey||Ce.metaKey||Ce.shiftKey||g()});let Le=Ce=>{Ce.altKey||Ce.ctrlKey||Ce.metaKey||Ce.shiftKey||g()};async function Re(Ce){if(!Ce.target)return;let yt=Ce.target;await M(yt)}return X.addEventListener("mouseenter",Re),window.addCleanup(()=>X.removeEventListener("mouseenter",Re)),X.addEventListener("click",Le),window.addCleanup(()=>X.removeEventListener("click",Le)),X};async function D(E){if(pt(h),E.length===0?h.innerHTML=`<a class="result-card no-match">
          <h3>No results.</h3>
          <p>Try another search term?</p>
      </a>`:h.append(...E.map(le)),E.length===0&&f)pt(f);else{let C=h.firstElementChild;C.classList.add("focus"),d=C,await M(C)}}async function G(E){if(At.has(E))return At.get(E);let C=W(E).toString(),K=await fetch(C).then(he=>he.text()).then(he=>{if(he===void 0)throw new Error(`Could not fetch ${C}`);let ae=sr.parseFromString(he??"","text/html");return Xt(ae,C),[...ae.getElementsByClassName("popover-hint")]});return At.set(E,K),K}async function M(E){if(!o||!u||!E||!f)return;let C=E.id,K=await G(C).then(he=>he.flatMap(ae=>[...or(Pe,ae).children]));y=document.createElement("div"),y.classList.add("preview-inner"),y.append(...K),f.replaceChildren(y),[...f.getElementsByClassName("highlight")].sort((he,ae)=>ae.innerHTML.length-he.innerHTML.length)[0]?.scrollIntoView({block:"start"})}async function R(E){if(!o||!st)return;Pe=E.target.value,o.classList.toggle("display-results",Pe!==""),Ge=Pe.startsWith("#")?"tags":"basic";let C;if(Ge==="tags"){Pe=Pe.substring(1).trim();let ae=Pe.indexOf(" ");if(ae!=-1){let X=Pe.substring(0,ae),Le=Pe.substring(ae+1).trim();C=await st.searchAsync({query:Le,limit:Math.max(mt,1e4),index:["title","content"],tag:{tags:X}});for(let Re of C)Re.result=Re.result.slice(0,mt);Ge="basic",Pe=Le}else C=await st.searchAsync({query:Pe,limit:mt,index:["tags"]})}else Ge==="basic"&&(C=await st.searchAsync({query:Pe,limit:mt,index:["title","content"]}));let K=ae=>{let X=C.filter(Le=>Le.field===ae);return X.length===0?[]:[...X[0].result]},he=[...new Set([...K("title"),...K("content"),...K("tags")])].map(ae=>v(Pe,ae));await D(he)}document.addEventListener("keydown",A),window.addCleanup(()=>document.removeEventListener("keydown",A)),s.addEventListener("click",()=>p("basic")),window.addCleanup(()=>s.removeEventListener("click",()=>p("basic"))),l.addEventListener("input",R),window.addCleanup(()=>l.removeEventListener("input",R)),Dt(n,g),await hr(r)}var Vt=!1;async function hr(e){if(Vt)return;let t=0,r=[];for(let[n,i]of Object.entries(e))r.push(st.addAsync(t++,{id:t,slug:n,title:i.title,content:i.content,tags:i.tags}));await Promise.all(r),Vt=!0}document.addEventListener("nav",async e=>{let t=e.detail.url,r=await fetchData,n=document.getElementsByClassName("search");for(let i of n)await ar(i,t,r)})})(),(function(){var ke=Object.create,ye=Object.defineProperty,be=Object.getOwnPropertyDescriptor,ce=Object.getOwnPropertyNames,de=Object.getPrototypeOf,pe=Object.prototype.hasOwnProperty,oe=(k,w)=>()=>(w||k((w={exports:{}}).exports,w),w.exports),Ve=(k,w,x,U)=>{if(w&&typeof w=="object"||typeof w=="function")for(let Z of ce(w))!pe.call(k,Z)&&Z!==x&&ye(k,Z,{get:()=>w[Z],enumerable:!(U=be(w,Z))||U.enumerable});return k},xe=(k,w,x)=>(x=k!=null?ke(de(k)):{},Ve(w||!k||!k.__esModule?ye(x,"default",{value:k,enumerable:!0}):x,k)),Ue=oe((k,w)=>{"use strict";w.exports=U;function x(Y){return Y instanceof Buffer?Buffer.from(Y):new Y.constructor(Y.buffer.slice(),Y.byteOffset,Y.length)}function U(Y){if(Y=Y||{},Y.circles)return Z(Y);let ee=new Map;if(ee.set(Date,z=>new Date(z)),ee.set(Map,(z,V)=>new Map(Q(Array.from(z),V))),ee.set(Set,(z,V)=>new Set(Q(Array.from(z),V))),Y.constructorHandlers)for(let z of Y.constructorHandlers)ee.set(z[0],z[1]);let ie=null;return Y.proto?we:re;function Q(z,V){let O=Object.keys(z),N=new Array(O.length);for(let se=0;se<O.length;se++){let S=O[se],te=z[S];typeof te!="object"||te===null?N[S]=te:te.constructor!==Object&&(ie=ee.get(te.constructor))?N[S]=ie(te,V):ArrayBuffer.isView(te)?N[S]=x(te):N[S]=V(te)}return N}function re(z){if(typeof z!="object"||z===null)return z;if(Array.isArray(z))return Q(z,re);if(z.constructor!==Object&&(ie=ee.get(z.constructor)))return ie(z,re);let V={};for(let O in z){if(Object.hasOwnProperty.call(z,O)===!1)continue;let N=z[O];typeof N!="object"||N===null?V[O]=N:N.constructor!==Object&&(ie=ee.get(N.constructor))?V[O]=ie(N,re):ArrayBuffer.isView(N)?V[O]=x(N):V[O]=re(N)}return V}function we(z){if(typeof z!="object"||z===null)return z;if(Array.isArray(z))return Q(z,we);if(z.constructor!==Object&&(ie=ee.get(z.constructor)))return ie(z,we);let V={};for(let O in z){let N=z[O];typeof N!="object"||N===null?V[O]=N:N.constructor!==Object&&(ie=ee.get(N.constructor))?V[O]=ie(N,we):ArrayBuffer.isView(N)?V[O]=x(N):V[O]=we(N)}return V}}function Z(Y){let ee=[],ie=[],Q=new Map;if(Q.set(Date,O=>new Date(O)),Q.set(Map,(O,N)=>new Map(we(Array.from(O),N))),Q.set(Set,(O,N)=>new Set(we(Array.from(O),N))),Y.constructorHandlers)for(let O of Y.constructorHandlers)Q.set(O[0],O[1]);let re=null;return Y.proto?V:z;function we(O,N){let se=Object.keys(O),S=new Array(se.length);for(let te=0;te<se.length;te++){let Ne=se[te],m=O[Ne];if(typeof m!="object"||m===null)S[Ne]=m;else if(m.constructor!==Object&&(re=Q.get(m.constructor)))S[Ne]=re(m,N);else if(ArrayBuffer.isView(m))S[Ne]=x(m);else{let b=ee.indexOf(m);b!==-1?S[Ne]=ie[b]:S[Ne]=N(m)}}return S}function z(O){if(typeof O!="object"||O===null)return O;if(Array.isArray(O))return we(O,z);if(O.constructor!==Object&&(re=Q.get(O.constructor)))return re(O,z);let N={};ee.push(O),ie.push(N);for(let se in O){if(Object.hasOwnProperty.call(O,se)===!1)continue;let S=O[se];if(typeof S!="object"||S===null)N[se]=S;else if(S.constructor!==Object&&(re=Q.get(S.constructor)))N[se]=re(S,z);else if(ArrayBuffer.isView(S))N[se]=x(S);else{let te=ee.indexOf(S);te!==-1?N[se]=ie[te]:N[se]=z(S)}}return ee.pop(),ie.pop(),N}function V(O){if(typeof O!="object"||O===null)return O;if(Array.isArray(O))return we(O,V);if(O.constructor!==Object&&(re=Q.get(O.constructor)))return re(O,V);let N={};ee.push(O),ie.push(N);for(let se in O){let S=O[se];if(typeof S!="object"||S===null)N[se]=S;else if(S.constructor!==Object&&(re=Q.get(S.constructor)))N[se]=re(S,V);else if(ArrayBuffer.isView(S))N[se]=x(S);else{let te=ee.indexOf(S);te!==-1?N[se]=ie[te]:N[se]=V(S)}}return ee.pop(),ie.pop(),N}}}),Ye=Object.hasOwnProperty,L=xe(Ue(),1),Oe=(0,L.default)();function ze(k){let w=et(He(k,"index"),!0);return w.length===0?"/":w}function fe(k){let w=k.split("/").filter(x=>x!=="").slice(0,-1).map(x=>"..").join("/");return w.length===0&&(w="."),w}function Ee(k,w){return Me(fe(k),ze(w))}function Me(...k){if(k.length===0)return"";let w=k.filter(x=>x!==""&&x!=="/").map(x=>et(x)).join("/");return k[0].startsWith("/")&&(w="/"+w),k[k.length-1].endsWith("/")&&(w=w+"/"),w}function Ke(k,w){return k===w||k.endsWith("/"+w)}function He(k,w){return Ke(k,w)&&(k=k.slice(0,-w.length)),k}function et(k,w){return k.startsWith("/")&&(k=k.substring(1)),!w&&k.endsWith("/")&&(k=k.slice(0,-1)),k}var tt=class Ot{isFolder;children;slugSegments;fileSegmentHint;displayNameOverride;data;constructor(w,x){this.children=[],this.slugSegments=w,this.data=x??null,this.isFolder=!1,this.displayNameOverride=void 0}get displayName(){let w=this.data?.title==="index"?void 0:this.data?.title;return this.displayNameOverride??w??this.fileSegmentHint??this.slugSegment??""}set displayName(w){this.displayNameOverride=w}get slug(){let w=Me(...this.slugSegments);return this.isFolder?Me(w,"index"):w}get slugSegment(){return this.slugSegments[this.slugSegments.length-1]}makeChild(w,x){let U=[...this.slugSegments,w[0]],Z=new Ot(U,x);return this.children.push(Z),Z}insert(w,x){if(w.length===0)throw new Error("path is empty");this.isFolder=!0;let U=w[0];if(w.length===1)U==="index"?this.data??=x:this.makeChild(w,x);else if(w.length>1){let Z=this.children.find(ee=>ee.slugSegment===U)??this.makeChild(w,void 0),Y=x.filePath.split("/");Z.fileSegmentHint=Y.at(-w.length),Z.insert(w.slice(1),x)}}add(w){this.insert(w.slug.split("/"),w)}findNode(w){return w.length===0||w.length===1&&w[0]==="index"?this:this.children.find(x=>x.slugSegment===w[0])?.findNode(w.slice(1))}ancestryChain(w){if(w.length===0||w.length===1&&w[0]==="index")return[this];let x=this.children.find(Z=>Z.slugSegment===w[0]);if(!x)return;let U=x.ancestryChain(w.slice(1));if(U)return[this,...U]}filter(w){this.children=this.children.filter(w),this.children.forEach(x=>x.filter(w))}map(w){w(this),this.children.forEach(x=>x.map(w))}sort(w){this.children=this.children.sort(w),this.children.forEach(x=>x.sort(w))}static fromEntries(w){let x=new Ot([]);return w.forEach(([,U])=>x.add(U)),x}entries(){let w=x=>[[x.slug,x]].concat(...x.children.map(w));return w(this)}getFolderPaths(){return this.entries().filter(([w,x])=>x.isFolder).map(([w,x])=>w)}},Te;function De(){let k=this.closest(".explorer");if(!k)return;let w=k.classList.toggle("collapsed");k.setAttribute("aria-expanded",k.getAttribute("aria-expanded")==="true"?"false":"true"),w?document.documentElement.classList.remove("mobile-no-scroll"):document.documentElement.classList.add("mobile-no-scroll")}function Be(k){k.stopPropagation();let w=k.target;if(!w)return;let x=w.nodeName==="svg"?w.parentElement:w.parentElement?.parentElement;if(!x)return;let U=x.nextElementSibling;if(!U)return;U.classList.toggle("open");let Z=!U.classList.contains("open");it(U,Z);let Y=Te.find(ie=>ie.path===x.dataset.folderpath);Y?Y.collapsed=Z:Te.push({path:x.dataset.folderpath,collapsed:Z});let ee=JSON.stringify(Te);localStorage.setItem("fileTree",ee)}function Ie(k,w){let x=document.getElementById("template-file").content.cloneNode(!0).querySelector("li"),U=x.querySelector("a");return U.href=Ee(k,w.slug),U.dataset.for=w.slug,U.textContent=w.displayName,k===w.slug&&U.classList.add("active"),x}function Ze(k,w,x){let U=document.getElementById("template-folder").content.cloneNode(!0).querySelector("li"),Z=U.querySelector(".folder-container"),Y=Z.querySelector("div"),ee=U.querySelector(".folder-outer"),ie=ee.querySelector("ul"),Q=w.slug;if(Z.dataset.folderpath=Q,x.folderClickBehavior==="link"){let V=Y.querySelector(".folder-button"),O=document.createElement("a");O.href=Ee(k,Q),O.dataset.for=Q,O.className="folder-title",O.textContent=w.displayName,V.replaceWith(O)}else{let V=Y.querySelector(".folder-title");V.textContent=w.displayName}let re=Te.find(V=>V.path===Q)?.collapsed??x.folderDefaultState==="collapsed",we=ze(Q),z=we===k.slice(0,we.length);(!re||z)&&ee.classList.add("open");for(let V of w.children){let O=V.isFolder?Ze(k,V,x):Ie(k,V);ie.appendChild(O)}return U}async function $e(k){let w=document.querySelectorAll("div.explorer");for(let x of w){let U=JSON.parse(x.dataset.dataFns||"{}"),Z={folderClickBehavior:x.dataset.behavior||"collapse",folderDefaultState:x.dataset.collapsed||"collapsed",useSavedState:x.dataset.savestate==="true",order:U.order||["filter","map","sort"],sortFn:new Function("return "+(U.sortFn||"undefined"))(),filterFn:new Function("return "+(U.filterFn||"undefined"))(),mapFn:new Function("return "+(U.mapFn||"undefined"))()},Y=localStorage.getItem("fileTree"),ee=Y&&Z.useSavedState?JSON.parse(Y):[],ie=new Map(ee.map(S=>[S.path,S.collapsed])),Q=await fetchData,re=[...Object.entries(Q)],we=tt.fromEntries(re);for(let S of Z.order)switch(S){case"filter":Z.filterFn&&we.filter(Z.filterFn);break;case"map":Z.mapFn&&we.map(Z.mapFn);break;case"sort":Z.sortFn&&we.sort(Z.sortFn);break}Te=we.getFolderPaths().map(S=>{let te=ie.get(S);return{path:S,collapsed:te===void 0?Z.folderDefaultState==="collapsed":te}});let z=x.querySelector(".explorer-ul");if(!z)continue;let V=document.createDocumentFragment();for(let S of we.children){let te=S.isFolder?Ze(k,S,Z):Ie(k,S);V.appendChild(te)}z.insertBefore(V,z.firstChild);let O=sessionStorage.getItem("explorerScrollTop");if(O)z.scrollTop=parseInt(O);else{let S=z.querySelector(".active");S&&S.scrollIntoView({behavior:"smooth"})}let N=x.getElementsByClassName("explorer-toggle");for(let S of N)S.addEventListener("click",De),window.addCleanup(()=>S.removeEventListener("click",De));if(Z.folderClickBehavior==="collapse"){let S=x.getElementsByClassName("folder-button");for(let te of S)te.addEventListener("click",Be),window.addCleanup(()=>te.removeEventListener("click",Be))}let se=x.getElementsByClassName("folder-icon");for(let S of se)S.addEventListener("click",Be),window.addCleanup(()=>S.removeEventListener("click",Be))}}document.addEventListener("prenav",async()=>{let k=document.querySelector(".explorer-ul");k&&sessionStorage.setItem("explorerScrollTop",k.scrollTop.toString())}),document.addEventListener("nav",async k=>{let w=k.detail.url;await $e(w);for(let x of document.getElementsByClassName("explorer")){let U=x.querySelector(".mobile-explorer");if(!U)return;U.checkVisibility()&&(x.classList.add("collapsed"),x.setAttribute("aria-expanded","false"),document.documentElement.classList.remove("mobile-no-scroll")),U.classList.remove("hide-until-loaded")}}),window.addEventListener("resize",function(){let k=document.querySelector(".explorer");if(k&&!k.classList.contains("collapsed")){document.documentElement.classList.add("mobile-no-scroll");return}});function it(k,w){return w?k.classList.remove("open"):k.classList.add("open")}})(),(function(){document.addEventListener("nav",ke=>{const ye=new IntersectionObserver(de=>{for(const pe of de){const oe=pe.target.parentElement;if(!oe)return;pe.isIntersecting?oe.classList.remove("gradient-active"):oe.classList.add("gradient-active")}}),be=document.getElementById("list-0");if(!be)return;const ce=be.querySelector(".overflow-end");ce&&(ye.observe(ce),window.addCleanup(()=>ye.disconnect()))})})(),(function(){var ke=new IntersectionObserver(ce=>{for(let de of ce){let pe=de.target.id,oe=document.querySelectorAll(`a[data-for="${pe}"]`),Ve=de.rootBounds?.height;Ve&&oe.length>0&&(de.boundingClientRect.y<Ve?oe.forEach(xe=>xe.classList.add("in-view")):oe.forEach(xe=>xe.classList.remove("in-view")))}});function ye(){this.classList.toggle("collapsed"),this.setAttribute("aria-expanded",this.getAttribute("aria-expanded")==="true"?"false":"true");let ce=this.nextElementSibling;ce&&ce.classList.toggle("collapsed")}function be(){for(let ce of document.getElementsByClassName("toc")){let de=ce.querySelector(".toc-header"),pe=ce.querySelector(".toc-content");if(!de||!pe)return;de.addEventListener("click",ye),window.addCleanup(()=>de.removeEventListener("click",ye))}}document.addEventListener("nav",()=>{be(),ke.disconnect(),document.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]").forEach(ce=>ke.observe(ce))})})(),(function(){document.addEventListener("nav",ke=>{const ye=new IntersectionObserver(de=>{for(const pe of de){const oe=pe.target.parentElement;if(!oe)return;pe.isIntersecting?oe.classList.remove("gradient-active"):oe.classList.add("gradient-active")}}),be=document.getElementById("list-1");if(!be)return;const ce=be.querySelector(".overflow-end");ce&&(ye.observe(ce),window.addCleanup(()=>ye.disconnect()))})})(),(function(){document.addEventListener("nav",ke=>{const ye=new IntersectionObserver(de=>{for(const pe of de){const oe=pe.target.parentElement;if(!oe)return;pe.isIntersecting?oe.classList.remove("gradient-active"):oe.classList.add("gradient-active")}}),be=document.getElementById("list-2");if(!be)return;const ce=be.querySelector(".overflow-end");ce&&(ye.observe(ce),window.addCleanup(()=>ye.disconnect()))})})(),(function(){document.addEventListener("nav",ke=>{const ye=new IntersectionObserver(de=>{for(const pe of de){const oe=pe.target.parentElement;if(!oe)return;pe.isIntersecting?oe.classList.remove("gradient-active"):oe.classList.add("gradient-active")}}),be=document.getElementById("list-3");if(!be)return;const ce=be.querySelector(".overflow-end");ce&&(ye.observe(ce),window.addCleanup(()=>ye.disconnect()))})})(),(function(){const ke=document.createElement("script");ke.src="https://plausible.io/js/script.manual.js",ke.setAttribute("data-domain",location.hostname),ke.defer=!0,ke.onload=()=>{window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)},plausible("pageview"),document.addEventListener("nav",()=>{plausible("pageview")})},document.head.appendChild(ke)})(),(function(){var ke=Object.create,ye=Object.defineProperty,be=Object.getOwnPropertyDescriptor,ce=Object.getOwnPropertyNames,de=Object.getPrototypeOf,pe=Object.prototype.hasOwnProperty,oe=(m,b)=>()=>(b||m((b={exports:{}}).exports,b),b.exports),Ve=(m,b,j,P)=>{if(b&&typeof b=="object"||typeof b=="function")for(let H of ce(b))!pe.call(m,H)&&H!==j&&ye(m,H,{get:()=>b[H],enumerable:!(P=be(b,H))||P.enumerable});return m},xe=(m,b,j)=>(j=m!=null?ke(de(m)):{},Ve(b||!m||!m.__esModule?ye(j,"default",{value:m,enumerable:!0}):j,m)),Ue=oe((m,b)=>{"use strict";b.exports=P;function j(_){return _ instanceof Buffer?Buffer.from(_):new _.constructor(_.buffer.slice(),_.byteOffset,_.length)}function P(_){if(_=_||{},_.circles)return H(_);let q=new Map;if(q.set(Date,J=>new Date(J)),q.set(Map,(J,me)=>new Map(ge(Array.from(J),me))),q.set(Set,(J,me)=>new Set(ge(Array.from(J),me))),_.constructorHandlers)for(let J of _.constructorHandlers)q.set(J[0],J[1]);let ne=null;return _.proto?Se:je;function ge(J,me){let I=Object.keys(J),F=new Array(I.length);for(let ue=0;ue<I.length;ue++){let B=I[ue],ve=J[B];typeof ve!="object"||ve===null?F[B]=ve:ve.constructor!==Object&&(ne=q.get(ve.constructor))?F[B]=ne(ve,me):ArrayBuffer.isView(ve)?F[B]=j(ve):F[B]=me(ve)}return F}function je(J){if(typeof J!="object"||J===null)return J;if(Array.isArray(J))return ge(J,je);if(J.constructor!==Object&&(ne=q.get(J.constructor)))return ne(J,je);let me={};for(let I in J){if(Object.hasOwnProperty.call(J,I)===!1)continue;let F=J[I];typeof F!="object"||F===null?me[I]=F:F.constructor!==Object&&(ne=q.get(F.constructor))?me[I]=ne(F,je):ArrayBuffer.isView(F)?me[I]=j(F):me[I]=je(F)}return me}function Se(J){if(typeof J!="object"||J===null)return J;if(Array.isArray(J))return ge(J,Se);if(J.constructor!==Object&&(ne=q.get(J.constructor)))return ne(J,Se);let me={};for(let I in J){let F=J[I];typeof F!="object"||F===null?me[I]=F:F.constructor!==Object&&(ne=q.get(F.constructor))?me[I]=ne(F,Se):ArrayBuffer.isView(F)?me[I]=j(F):me[I]=Se(F)}return me}}function H(_){let q=[],ne=[],ge=new Map;if(ge.set(Date,I=>new Date(I)),ge.set(Map,(I,F)=>new Map(Se(Array.from(I),F))),ge.set(Set,(I,F)=>new Set(Se(Array.from(I),F))),_.constructorHandlers)for(let I of _.constructorHandlers)ge.set(I[0],I[1]);let je=null;return _.proto?me:J;function Se(I,F){let ue=Object.keys(I),B=new Array(ue.length);for(let ve=0;ve<ue.length;ve++){let _e=ue[ve],qe=I[_e];if(typeof qe!="object"||qe===null)B[_e]=qe;else if(qe.constructor!==Object&&(je=ge.get(qe.constructor)))B[_e]=je(qe,F);else if(ArrayBuffer.isView(qe))B[_e]=j(qe);else{let at=q.indexOf(qe);at!==-1?B[_e]=ne[at]:B[_e]=F(qe)}}return B}function J(I){if(typeof I!="object"||I===null)return I;if(Array.isArray(I))return Se(I,J);if(I.constructor!==Object&&(je=ge.get(I.constructor)))return je(I,J);let F={};q.push(I),ne.push(F);for(let ue in I){if(Object.hasOwnProperty.call(I,ue)===!1)continue;let B=I[ue];if(typeof B!="object"||B===null)F[ue]=B;else if(B.constructor!==Object&&(je=ge.get(B.constructor)))F[ue]=je(B,J);else if(ArrayBuffer.isView(B))F[ue]=j(B);else{let ve=q.indexOf(B);ve!==-1?F[ue]=ne[ve]:F[ue]=J(B)}}return q.pop(),ne.pop(),F}function me(I){if(typeof I!="object"||I===null)return I;if(Array.isArray(I))return Se(I,me);if(I.constructor!==Object&&(je=ge.get(I.constructor)))return je(I,me);let F={};q.push(I),ne.push(F);for(let ue in I){let B=I[ue];if(typeof B!="object"||B===null)F[ue]=B;else if(B.constructor!==Object&&(je=ge.get(B.constructor)))F[ue]=je(B,me);else if(ArrayBuffer.isView(B))F[ue]=j(B);else{let ve=q.indexOf(B);ve!==-1?F[ue]=ne[ve]:F[ue]=me(B)}}return q.pop(),ne.pop(),F}}}),Ye=m=>(b,j)=>b[`node${m}`]===j[`node${m}`],L=Ye("Name"),Oe=Ye("Type"),ze=Ye("Value");function fe(m,b){if(m.attributes.length===0&&b.attributes.length===0)return[];let j=[],P=new Map,H=new Map;for(let _ of m.attributes)P.set(_.name,_.value);for(let _ of b.attributes){let q=P.get(_.name);_.value===q?P.delete(_.name):(typeof q<"u"&&P.delete(_.name),H.set(_.name,_.value))}for(let _ of P.keys())j.push({type:5,name:_});for(let[_,q]of H.entries())j.push({type:4,name:_,value:q});return j}function Ee(m,b=!0){let j=`${m.localName}`;for(let{name:P,value:H}of m.attributes)b&&P.startsWith("data-")||(j+=`[${P}=${H}]`);return j+=m.innerHTML,j}function Me(m){switch(m.tagName){case"BASE":case"TITLE":return m.localName;case"META":{if(m.hasAttribute("name"))return`meta[name="${m.getAttribute("name")}"]`;if(m.hasAttribute("property"))return`meta[name="${m.getAttribute("property")}"]`;break}case"LINK":{if(m.hasAttribute("rel")&&m.hasAttribute("href"))return`link[rel="${m.getAttribute("rel")}"][href="${m.getAttribute("href")}"]`;if(m.hasAttribute("href"))return`link[href="${m.getAttribute("href")}"]`;break}}return Ee(m)}function Ke(m){let[b,j=""]=m.split("?");return`${b}?t=${Date.now()}&${j.replace(/t=\d+/g,"")}`}function He(m){if(m.nodeType===1&&m.hasAttribute("data-persist"))return m;if(m.nodeType===1&&m.localName==="script"){let b=document.createElement("script");for(let{name:j,value:P}of m.attributes)j==="src"&&(P=Ke(P)),b.setAttribute(j,P);return b.innerHTML=m.innerHTML,b}return m.cloneNode(!0)}function et(m,b){if(m.children.length===0&&b.children.length===0)return[];let j=[],P=new Map,H=new Map,_=new Map;for(let q of m.children)P.set(Me(q),q);for(let q of b.children){let ne=Me(q),ge=P.get(ne);ge?Ee(q,!1)!==Ee(ge,!1)&&H.set(ne,He(q)):_.set(ne,He(q)),P.delete(ne)}for(let q of m.childNodes){if(q.nodeType===1){let ne=Me(q);if(P.has(ne)){j.push({type:1});continue}else if(H.has(ne)){let ge=H.get(ne);j.push({type:3,attributes:fe(q,ge),children:tt(q,ge)});continue}}j.push(void 0)}for(let q of _.values())j.push({type:0,node:He(q)});return j}function tt(m,b){let j=[],P=Math.max(m.childNodes.length,b.childNodes.length);for(let H=0;H<P;H++){let _=m.childNodes.item(H),q=b.childNodes.item(H);j[H]=Te(_,q)}return j}function Te(m,b){if(!m)return{type:0,node:He(b)};if(!b)return{type:1};if(Oe(m,b)){if(m.nodeType===3){let j=m.nodeValue,P=b.nodeValue;if(j.trim().length===0&&P.trim().length===0)return}if(m.nodeType===1){if(L(m,b)){let j=m.tagName==="HEAD"?et:tt;return{type:3,attributes:fe(m,b),children:j(m,b)}}return{type:2,node:He(b)}}else return m.nodeType===9?Te(m.documentElement,b.documentElement):ze(m,b)?void 0:{type:2,value:b.nodeValue}}return{type:2,node:He(b)}}function De(m,b){if(b.length!==0)for(let{type:j,name:P,value:H}of b)j===5?m.removeAttribute(P):j===4&&m.setAttribute(P,H)}async function Be(m,b,j){if(!b)return;let P;switch(m.nodeType===9?(m=m.documentElement,P=m):j?P=j:P=m,b.type){case 0:{let{node:H}=b;m.appendChild(H);return}case 1:{if(!P)return;m.removeChild(P);return}case 2:{if(!P)return;let{node:H,value:_}=b;if(typeof _=="string"){P.nodeValue=_;return}P.replaceWith(H);return}case 3:{if(!P)return;let{attributes:H,children:_}=b;De(P,H);let q=Array.from(P.childNodes);await Promise.all(_.map((ne,ge)=>Be(P,ne,q[ge])));return}}}function Ie(m,b){let j=Te(m,b);return Be(m,j)}var Ze=Object.hasOwnProperty,$e=xe(Ue(),1),it=(0,$e.default)();function k(m){return m.document.body.dataset.slug}var w=(m,b,j)=>{let P=new URL(m.getAttribute(b),j);m.setAttribute(b,P.pathname+P.hash)};function x(m,b){m.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(j=>w(j,"href",b)),m.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(j=>w(j,"src",b))}var U=/<link rel="canonical" href="([^"]*)">/;async function Z(m){let b=await fetch(`${m}`);if(!b.headers.get("content-type")?.startsWith("text/html"))return b;let j=await b.clone().text(),[P,H]=j.match(U)??[];return H?fetch(`${new URL(H,m)}`):b}var Y=1,ee=document.createElement("route-announcer"),ie=m=>m?.nodeType===Y,Q=m=>{try{let b=new URL(m);if(window.location.origin===b.origin)return!0}catch{}return!1},re=m=>{let b=m.origin===window.location.origin,j=m.pathname===window.location.pathname;return b&&j},we=({target:m})=>{if(!ie(m)||m.attributes.getNamedItem("target")?.value==="_blank")return;let b=m.closest("a");if(!b||"routerIgnore"in b.dataset)return;let{href:j}=b;if(Q(j))return{url:new URL(j),scroll:"routerNoscroll"in b.dataset?!1:void 0}};function z(m){let b=new CustomEvent("nav",{detail:{url:m}});document.dispatchEvent(b)}var V=new Set;window.addCleanup=m=>V.add(m);function O(){let m=document.createElement("div");m.className="navigation-progress",m.style.width="0",document.body.contains(m)||document.body.appendChild(m),setTimeout(()=>{m.style.width="80%"},100)}var N=!1,se;async function S(m,b=!1){N=!0,O(),se=se||new DOMParser;let j=await Z(m).then(q=>{if(q.headers.get("content-type")?.startsWith("text/html"))return q.text();window.location.assign(m)}).catch(()=>{window.location.assign(m)});if(!j)return;let P=new CustomEvent("prenav",{detail:{}});document.dispatchEvent(P),V.forEach(q=>q()),V.clear();let H=se.parseFromString(j,"text/html");x(H,m);let _=H.querySelector("title")?.textContent;if(_)document.title=_;else{let q=document.querySelector("h1");_=q?.innerText??q?.textContent??m.pathname}ee.textContent!==_&&(ee.textContent=_),ee.dataset.persist="",H.body.appendChild(ee),Ie(document.body,H.body),b||(m.hash?document.getElementById(decodeURIComponent(m.hash.substring(1)))?.scrollIntoView():window.scrollTo({top:0})),document.head.querySelectorAll(":not([spa-preserve])").forEach(q=>q.remove()),H.head.querySelectorAll(":not([spa-preserve])").forEach(q=>document.head.appendChild(q)),b||history.pushState({},"",m),z(k(window)),delete ee.dataset.persist}async function te(m,b=!1){if(!N){N=!0;try{await S(m,b)}catch(j){console.error(j),window.location.assign(m)}finally{N=!1}}}window.spaNavigate=te;function Ne(){return typeof window<"u"&&(window.addEventListener("click",async m=>{let{url:b}=we(m)??{};if(!(!b||m.ctrlKey||m.metaKey)){if(m.preventDefault(),re(b)&&b.hash){document.getElementById(decodeURIComponent(b.hash.substring(1)))?.scrollIntoView(),history.pushState({},"",b);return}te(b,!1)}}),window.addEventListener("popstate",m=>{let{url:b}=we(m)??{};window.location.hash&&window.location.pathname===b?.pathname||te(new URL(window.location.toString()),!0)})),new class{go(m){let b=new URL(m,window.location.toString());return te(b,!1)}back(){return window.history.back()}forward(){return window.history.forward()}}}if(Ne(),z(k(window)),!customElements.get("route-announcer")){let m={"aria-live":"assertive","aria-atomic":"true",style:"position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"};customElements.define("route-announcer",class extends HTMLElement{constructor(){super()}connectedCallback(){for(let[b,j]of Object.entries(m))this.setAttribute(b,j)}})}})();
